<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>weekly.js 第 0 天 | XIAOKEDADA</title>
    <meta name="description" content="Write something useful and funny">
    <link rel="icon" href="/xiaokedada/favicon.png">
    
    <link rel="preload" href="/xiaokedada/assets/css/118.styles.306d23a5.css" as="style"><link rel="preload" href="/xiaokedada/assets/js/app.51d0a681.js" as="script"><link rel="preload" href="/xiaokedada/assets/js/115.22f7ee1d.js" as="script"><link rel="prefetch" href="/xiaokedada/assets/js/0.1bd12f53.js"><link rel="prefetch" href="/xiaokedada/assets/js/1.cd946af2.js"><link rel="prefetch" href="/xiaokedada/assets/js/2.ca24feb6.js"><link rel="prefetch" href="/xiaokedada/assets/js/3.5dbaa314.js"><link rel="prefetch" href="/xiaokedada/assets/js/4.65842a86.js"><link rel="prefetch" href="/xiaokedada/assets/js/5.2706d991.js"><link rel="prefetch" href="/xiaokedada/assets/js/6.a9fa93eb.js"><link rel="prefetch" href="/xiaokedada/assets/js/7.07a04857.js"><link rel="prefetch" href="/xiaokedada/assets/js/8.2e73814c.js"><link rel="prefetch" href="/xiaokedada/assets/js/9.9a4ab9ea.js"><link rel="prefetch" href="/xiaokedada/assets/js/10.1579390c.js"><link rel="prefetch" href="/xiaokedada/assets/js/11.86a2e0ac.js"><link rel="prefetch" href="/xiaokedada/assets/js/12.86d07ec2.js"><link rel="prefetch" href="/xiaokedada/assets/js/13.51025cd6.js"><link rel="prefetch" href="/xiaokedada/assets/js/14.723e0304.js"><link rel="prefetch" href="/xiaokedada/assets/js/15.e05c4533.js"><link rel="prefetch" href="/xiaokedada/assets/js/16.4c1175d0.js"><link rel="prefetch" href="/xiaokedada/assets/js/17.6ea7b9a7.js"><link rel="prefetch" href="/xiaokedada/assets/js/18.743491d2.js"><link rel="prefetch" href="/xiaokedada/assets/js/19.c009a8b2.js"><link rel="prefetch" href="/xiaokedada/assets/js/20.4676c2fd.js"><link rel="prefetch" href="/xiaokedada/assets/js/21.ba3174cf.js"><link rel="prefetch" href="/xiaokedada/assets/js/22.68278222.js"><link rel="prefetch" href="/xiaokedada/assets/js/23.c34c06a8.js"><link rel="prefetch" href="/xiaokedada/assets/js/24.d735d321.js"><link rel="prefetch" href="/xiaokedada/assets/js/25.640616f1.js"><link rel="prefetch" href="/xiaokedada/assets/js/26.7712c941.js"><link rel="prefetch" href="/xiaokedada/assets/js/27.183b317a.js"><link rel="prefetch" href="/xiaokedada/assets/js/28.72e53d68.js"><link rel="prefetch" href="/xiaokedada/assets/js/29.906421b2.js"><link rel="prefetch" href="/xiaokedada/assets/js/30.6e4aa06d.js"><link rel="prefetch" href="/xiaokedada/assets/js/31.b1150a91.js"><link rel="prefetch" href="/xiaokedada/assets/js/32.4a8d2fb5.js"><link rel="prefetch" href="/xiaokedada/assets/js/33.697a833c.js"><link rel="prefetch" href="/xiaokedada/assets/js/34.c414b291.js"><link rel="prefetch" href="/xiaokedada/assets/js/35.e321123d.js"><link rel="prefetch" href="/xiaokedada/assets/js/36.07df1a33.js"><link rel="prefetch" href="/xiaokedada/assets/js/37.c2092f91.js"><link rel="prefetch" href="/xiaokedada/assets/js/38.e999f6e6.js"><link rel="prefetch" href="/xiaokedada/assets/js/39.4ad0eec3.js"><link rel="prefetch" href="/xiaokedada/assets/js/40.15c13f22.js"><link rel="prefetch" href="/xiaokedada/assets/js/41.12d9540b.js"><link rel="prefetch" href="/xiaokedada/assets/js/42.048a5c79.js"><link rel="prefetch" href="/xiaokedada/assets/js/43.23a0cac2.js"><link rel="prefetch" href="/xiaokedada/assets/js/44.e552c633.js"><link rel="prefetch" href="/xiaokedada/assets/js/45.347f0a95.js"><link rel="prefetch" href="/xiaokedada/assets/js/46.59bb9a80.js"><link rel="prefetch" href="/xiaokedada/assets/js/47.0a72aee1.js"><link rel="prefetch" href="/xiaokedada/assets/js/48.32c141f4.js"><link rel="prefetch" href="/xiaokedada/assets/js/49.3610d444.js"><link rel="prefetch" href="/xiaokedada/assets/js/50.350e5049.js"><link rel="prefetch" href="/xiaokedada/assets/js/51.d01155cb.js"><link rel="prefetch" href="/xiaokedada/assets/js/52.a5015ced.js"><link rel="prefetch" href="/xiaokedada/assets/js/53.7b73d8b1.js"><link rel="prefetch" href="/xiaokedada/assets/js/54.092ee587.js"><link rel="prefetch" href="/xiaokedada/assets/js/55.9a2f189a.js"><link rel="prefetch" href="/xiaokedada/assets/js/56.27e46b17.js"><link rel="prefetch" href="/xiaokedada/assets/js/57.d080c747.js"><link rel="prefetch" href="/xiaokedada/assets/js/58.2364eb76.js"><link rel="prefetch" href="/xiaokedada/assets/js/59.9deb8139.js"><link rel="prefetch" href="/xiaokedada/assets/js/60.387795af.js"><link rel="prefetch" href="/xiaokedada/assets/js/61.3d0b8582.js"><link rel="prefetch" href="/xiaokedada/assets/js/62.f5702f6b.js"><link rel="prefetch" href="/xiaokedada/assets/js/63.6e8cc274.js"><link rel="prefetch" href="/xiaokedada/assets/js/64.59692959.js"><link rel="prefetch" href="/xiaokedada/assets/js/65.642d2089.js"><link rel="prefetch" href="/xiaokedada/assets/js/66.515778c0.js"><link rel="prefetch" href="/xiaokedada/assets/js/67.09fd142a.js"><link rel="prefetch" href="/xiaokedada/assets/js/68.d2fd2b20.js"><link rel="prefetch" href="/xiaokedada/assets/js/69.54b34dff.js"><link rel="prefetch" href="/xiaokedada/assets/js/70.08cfd9f1.js"><link rel="prefetch" href="/xiaokedada/assets/js/71.8af3cac6.js"><link rel="prefetch" href="/xiaokedada/assets/js/72.8cf1ac97.js"><link rel="prefetch" href="/xiaokedada/assets/js/73.0d2c3de9.js"><link rel="prefetch" href="/xiaokedada/assets/js/74.c5383443.js"><link rel="prefetch" href="/xiaokedada/assets/js/75.b692daea.js"><link rel="prefetch" href="/xiaokedada/assets/js/76.f1760c70.js"><link rel="prefetch" href="/xiaokedada/assets/js/77.024d7794.js"><link rel="prefetch" href="/xiaokedada/assets/js/78.54101d27.js"><link rel="prefetch" href="/xiaokedada/assets/js/79.395e6dea.js"><link rel="prefetch" href="/xiaokedada/assets/js/80.3e659e88.js"><link rel="prefetch" href="/xiaokedada/assets/js/81.31d7c9c5.js"><link rel="prefetch" href="/xiaokedada/assets/js/82.76901e43.js"><link rel="prefetch" href="/xiaokedada/assets/js/83.86b6f686.js"><link rel="prefetch" href="/xiaokedada/assets/js/84.e08c1f31.js"><link rel="prefetch" href="/xiaokedada/assets/js/85.a28700bf.js"><link rel="prefetch" href="/xiaokedada/assets/js/86.57747352.js"><link rel="prefetch" href="/xiaokedada/assets/js/87.6495c6ae.js"><link rel="prefetch" href="/xiaokedada/assets/js/88.fe6c9a90.js"><link rel="prefetch" href="/xiaokedada/assets/js/89.48f45856.js"><link rel="prefetch" href="/xiaokedada/assets/js/90.c2c96eb9.js"><link rel="prefetch" href="/xiaokedada/assets/js/91.466b65d5.js"><link rel="prefetch" href="/xiaokedada/assets/js/92.2c835547.js"><link rel="prefetch" href="/xiaokedada/assets/js/93.d0f32c26.js"><link rel="prefetch" href="/xiaokedada/assets/js/94.6d7ef6f7.js"><link rel="prefetch" href="/xiaokedada/assets/js/95.efa056b8.js"><link rel="prefetch" href="/xiaokedada/assets/js/96.1a9f1737.js"><link rel="prefetch" href="/xiaokedada/assets/js/97.68765c16.js"><link rel="prefetch" href="/xiaokedada/assets/js/98.c65e6193.js"><link rel="prefetch" href="/xiaokedada/assets/js/99.734ab7e3.js"><link rel="prefetch" href="/xiaokedada/assets/js/100.ffb81130.js"><link rel="prefetch" href="/xiaokedada/assets/js/101.52409c86.js"><link rel="prefetch" href="/xiaokedada/assets/js/102.2b0d4b0d.js"><link rel="prefetch" href="/xiaokedada/assets/js/103.ecdf3ea3.js"><link rel="prefetch" href="/xiaokedada/assets/js/104.d991dc2b.js"><link rel="prefetch" href="/xiaokedada/assets/js/105.6a089ee7.js"><link rel="prefetch" href="/xiaokedada/assets/js/106.826b0deb.js"><link rel="prefetch" href="/xiaokedada/assets/js/107.6306b794.js"><link rel="prefetch" href="/xiaokedada/assets/js/108.dc62e716.js"><link rel="prefetch" href="/xiaokedada/assets/js/109.18b18713.js"><link rel="prefetch" href="/xiaokedada/assets/js/110.b5de4946.js"><link rel="prefetch" href="/xiaokedada/assets/js/111.fea6ceb6.js"><link rel="prefetch" href="/xiaokedada/assets/js/112.c1b52e48.js"><link rel="prefetch" href="/xiaokedada/assets/js/113.660b807b.js"><link rel="prefetch" href="/xiaokedada/assets/js/114.37c0dee4.js"><link rel="prefetch" href="/xiaokedada/assets/js/116.8b3a33cc.js"><link rel="prefetch" href="/xiaokedada/assets/js/117.8f39d356.js">
    <link rel="stylesheet" href="/xiaokedada/assets/css/118.styles.306d23a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/xiaokedada/" class="home-link router-link-active"><!----><span class="site-name">
      XIAOKEDADA
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/xiaokedada/Blog/" class="nav-link router-link-active">Blog</a></div><div class="nav-item"><a href="/xiaokedada/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/xiaokedada/React/" class="nav-link">React</a></div><div class="nav-item"><a href="/xiaokedada/FirstMeet/" class="nav-link">More</a></div><div class="nav-item"><a href="/xiaokedada/CSS/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/xiaokedada/ReadingNote/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/xiaokedada/Weekly/" class="nav-link">Weekly</a></div><div class="nav-item"><a href="/xiaokedada/GatherAll/" class="nav-link">R &amp; T</a></div><a href="https://github.com/maoxiaoke/xiaokedada" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/xiaokedada/Blog/" class="nav-link router-link-active">Blog</a></div><div class="nav-item"><a href="/xiaokedada/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/xiaokedada/React/" class="nav-link">React</a></div><div class="nav-item"><a href="/xiaokedada/FirstMeet/" class="nav-link">More</a></div><div class="nav-item"><a href="/xiaokedada/CSS/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/xiaokedada/ReadingNote/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/xiaokedada/Weekly/" class="nav-link">Weekly</a></div><div class="nav-item"><a href="/xiaokedada/GatherAll/" class="nav-link">R &amp; T</a></div><a href="https://github.com/maoxiaoke/xiaokedada" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>别信</span><!----></p><ul class="sidebar-group-items"><li><a href="/xiaokedada/Blog/Create-A-Website-01.html" class="active sidebar-link">weekly.js 第 0 天</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#react-typescript" class="sidebar-link">React + Typescript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#tsc-类型检查" class="sidebar-link">tsc 类型检查</a></li><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#babel-转换-ts-tsx" class="sidebar-link">babel 转换 ts/tsx</a></li><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#lint-集成到-webpack" class="sidebar-link">Lint 集成到 webpack</a></li><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#lint-集成到-ide" class="sidebar-link">Lint 集成到 IDE</a></li><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#处理-svg-sass-文件" class="sidebar-link">处理 .svg .sass 文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#standardjs-规范" class="sidebar-link">standardJS 规范</a></li><li class="sidebar-sub-header"><a href="/xiaokedada/Blog/Create-A-Website-01.html#recap" class="sidebar-link">Recap</a></li></ul></li><li><a href="/xiaokedada/Blog/Create-A-Website-02.html" class="sidebar-link">weekly.js 第 1 天</a></li><li><a href="/xiaokedada/Blog/Library-From-Begin-To-End.html" class="sidebar-link">从头到尾创建一个函数库</a></li><li><a href="/xiaokedada/Blog/No-More-Vue.html" class="sidebar-link">或许你该抛弃 Vue 的这些功能了 ~</a></li><li><a href="/xiaokedada/Blog/What-I-Wanna-Be.html" class="sidebar-link">成为一个怎样的人</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>三人行也有我师</span><!----></p><ul class="sidebar-group-items"><li><a href="/xiaokedada/Blog/Others-Own-Value.html" class="sidebar-link">如何有自己的价值</a></li><li><a href="/xiaokedada/Blog/Others-90-Percent.html" class="sidebar-link">百分之九十理论</a></li><li><a href="/xiaokedada/Blog/Others-Jump-Out.html" class="sidebar-link">跳出产品给你限制的视角</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>吃一堑</span><!----></p><ul class="sidebar-group-items"><li><a href="/xiaokedada/Blog/Tackle-Pizza-404.html" class="sidebar-link">404 还是跨域</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="weekly-js-第-0-天"><a href="#weekly-js-第-0-天" aria-hidden="true" class="header-anchor">#</a> weekly.js 第 0 天</h1><p>心血来潮想搭建一个网站，暂时定位于提供 JS 相关的一个咨询网站。技术栈如下：</p><ul><li>FE: React + React-Router + Rxjs + TypeScript。函数库使用 Ramda，时间库使用 DateFns，打包工具 Webpack，代码规范 Standard。</li><li>BE: Node</li></ul><p>今天的主要任务是使用 <a href="https://github.com/facebook/create-react-app" target="_blank" rel="noopener noreferrer">create-react-app<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 建 React 项目。</p><h2 id="react-typescript"><a href="#react-typescript" aria-hidden="true" class="header-anchor">#</a> React + Typescript</h2><p><a href="https://facebook.github.io/create-react-app/docs/adding-typescript" target="_blank" rel="noopener noreferrer">Adding TypeScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 这篇文章介绍了官方 <a href>react-scripts</a> 对 Typescript 的支持。</p><p>运行</p><div class="language-bash extra-class"><pre class="language-bash"><code>$ npx create-react-app weekly-fe --typescript
</code></pre></div><p>为了以防未来需要对项目进行额外的配置，所以我们 <a href="https://facebook.github.io/create-react-app/docs/alternatives-to-ejecting" target="_blank" rel="noopener noreferrer">eject<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 这个项目，运行：</p><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> run <span class="token function">eject</span>
</code></pre></div><p>接下来安装 Typescript。</p><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save typescript @types/node @types/react @types/react-dom @types/jest
</code></pre></div><p>接下来将 <code>src</code> 文件中的 <code>App.js</code> 改成 <code>App.tsx</code>。运行程序，页面报错如下：</p><p><img src="https://github.com/maoxiaoke/xiaokedada/blob/master/assets/tsconfig.jpg?raw=true" alt="tsconfig-error"></p><p>意思就是说，在 <code>App.tsx</code> 无法识别没带 <code>tsx</code> 结尾文件，这自然是 Webpack <code>extensions</code> 这个配置项的功劳。转到 <code>config/webpack.config.js</code> 文件，找到 extensions 这个配置：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">...</span>
extensions<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>moduleFileExtensions
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>ext <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ext <span class="token operator">=&gt;</span> useTypeScript <span class="token operator">||</span> <span class="token operator">!</span>ext<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'ts'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre></div><p>看了下代码，好像是被 <code>useTypeScript</code> 限制了。再看下 <code>useTypeScript</code> 这个变量的定义：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Check if TypeScript is setup</span>
<span class="token keyword">const</span> useTypeScript <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span>appTsConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">...</span>
appTsConfig<span class="token punctuation">:</span> <span class="token function">resolveApp</span><span class="token punctuation">(</span><span class="token string">'tsconfig.json'</span><span class="token punctuation">)</span>
</code></pre></div><p>这下明白了。原来是这个项目下没有生成 <code>tsconfig.json</code> 文件。为了生成 <code>tsconfig.json</code> 文件，全局安装 typescript，使用 <code>tsc --init</code> 这个命令：</p><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> typescript -g

<span class="token comment"># 然后在项目根目录运行</span>
$ tsc --init
</code></pre></div><p>则会在项目根目录生成一个 <code>tsconfig.json</code> 文件，内容如下：</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    /* Basic Options */
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>                          /* Specify ECMAScript target version<span class="token operator">:</span> 'ES3' (default<span class="token punctuation">)</span><span class="token punctuation">,</span> 'ES5'<span class="token punctuation">,</span> 'ES2015'<span class="token punctuation">,</span> 'ES2016'<span class="token punctuation">,</span> 'ES2017'<span class="token punctuation">,</span> 'ES2018'<span class="token punctuation">,</span> 'ES2019' or 'ESNEXT'. */
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>                     /* Specify module code generation<span class="token operator">:</span> 'none'<span class="token punctuation">,</span> 'commonjs'<span class="token punctuation">,</span> 'amd'<span class="token punctuation">,</span> 'system'<span class="token punctuation">,</span> 'umd'<span class="token punctuation">,</span> 'es2015'<span class="token punctuation">,</span> or 'ESNext'. */
    // <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                             /* Specify library files to be included in the compilation. */
    // <span class="token property">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                       /* Allow javascript files to be compiled. */
    // <span class="token property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                       /* Report errors in .js files. */
    // <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>                     /* Specify JSX code generation<span class="token operator">:</span> 'preserve'<span class="token punctuation">,</span> 'react-native'<span class="token punctuation">,</span> or 'react'. */
    // <span class="token property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                   /* Generates corresponding '.d.ts' file. */
    // <span class="token property">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                /* Generates a sourcemap for each corresponding '.d.ts' file. */
    // <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                     /* Generates corresponding '.map' file. */
    // <span class="token property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>                       /* Concatenate and emit output to single file. */
    // <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>                        /* Redirect output structure to the directory. */
    // <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */
    // <span class="token property">&quot;composite&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                     /* Enable project compilation */
    // <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                   /* Enable incremental compilation */
    // <span class="token property">&quot;tsBuildInfoFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>               /* Specify file to store incremental compilation information */
    // <span class="token property">&quot;removeComments&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                /* Do not emit comments to output. */
    // <span class="token property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                        /* Do not emit outputs. */
    // <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                 /* Import emit helpers from 'tslib'. */
    // <span class="token property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            /* Provide full support for iterables in 'for-of'<span class="token punctuation">,</span> spread<span class="token punctuation">,</span> and destructuring when targeting 'ES5' or 'ES3'. */
    // <span class="token property">&quot;isolatedModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>               /* Transpile each file as a separate module (similar to 'ts.transpileModule'<span class="token punctuation">)</span>. */

    /* Strict Type-Checking Options */
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                           /* Enable all strict type-checking options. */
    // <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                 /* Raise error on expressions and declarations with an implied 'any' type. */
    // <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              /* Enable strict <span class="token null">null</span> checks. */
    // <span class="token property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>           /* Enable strict checking of function types. */
    // <span class="token property">&quot;strictBindCallApply&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>           /* Enable strict 'bind'<span class="token punctuation">,</span> 'call'<span class="token punctuation">,</span> and 'apply' methods on functions. */
    // <span class="token property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  /* Enable strict checking of property initialization in classes. */
    // <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                /* Raise error on 'this' expressions with an implied 'any' type. */
    // <span class="token property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                  /* Parse in strict mode and emit <span class="token string">&quot;use strict&quot;</span> for each source file. */

    /* Additional Checks */
    // <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                /* Report errors on unused locals. */
    // <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            /* Report errors on unused parameters. */
    // <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>             /* Report error when not all code paths in function return a value. */
    // <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    /* Report errors for fallthrough cases in switch statement. */

    /* Module Resolution Options */
    // <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>            /* Specify module resolution strategy<span class="token operator">:</span> 'node' (Node.js<span class="token punctuation">)</span> or 'classic' (TypeScript pre-<span class="token number">1.6</span><span class="token punctuation">)</span>. */
    // <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>                       /* Base directory to resolve non-absolute module names. */
    // <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */
    // <span class="token property">&quot;rootDirs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                        /* List of root folders whose combined content represents the structure of the project at runtime. */
    // <span class="token property">&quot;typeRoots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                       /* List of folders to include type definitions from. */
    // <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                           /* Type declaration files to be included in compilation. */
    // <span class="token property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  /* Allow default imports from modules with no default export. This does not affect code emit<span class="token punctuation">,</span> just typechecking. */
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */
    // <span class="token property">&quot;preserveSymlinks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>              /* Do not resolve the real path of symlinks. */

    /* Source Map Options */
    // <span class="token property">&quot;sourceRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */
    // <span class="token property">&quot;mapRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>                         /* Specify the location where debugger should locate map files instead of generated locations. */
    // <span class="token property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>               /* Emit a single file with source maps instead of having a separate file. */
    // <span class="token property">&quot;inlineSources&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                 /* Emit the source alongside the sourcemaps within a single file<span class="token punctuation">;</span> requires '--inlineSourceMap' or '--sourceMap' to be set. */

    /* Experimental Options */
    // <span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        /* Enables experimental support for ES7 decorators. */
    // <span class="token property">&quot;emitDecoratorMetadata&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         /* Enables experimental support for emitting type metadata for decorators. */
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以在 <a href="http://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank" rel="noopener noreferrer">Compiler Options<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 了解各个配置项的作用。</p><h3 id="tsc-类型检查"><a href="#tsc-类型检查" aria-hidden="true" class="header-anchor">#</a> tsc 类型检查</h3><p>接下来我们需要使用 <code>tsc</code> 来运行 <code>.ts</code> 和 <code>.tsx</code> 文件的 <em>类型检查</em>。这当然会集成到 webpack 当中。<code>create-react-app</code> 使用 plugin <a href="https://www.npmjs.com/package/fork-ts-checker-webpack-plugin" target="_blank" rel="noopener noreferrer">fork-ts-checker-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来支持，代码如下：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// TypeScript type checking</span>
useTypeScript <span class="token operator">&amp;&amp;</span>
  <span class="token keyword">new</span> <span class="token class-name">ForkTsCheckerWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    typescript<span class="token punctuation">:</span> resolve<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token string">'typescript'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      basedir<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>appNodeModules<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
    tsconfig<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>appTsConfig<span class="token punctuation">,</span>
    <span class="token operator">...</span>
</code></pre></div><p>最终它会使用根目录下的 <code>tsconfig.json</code> 文件的配置选项来运行类型检查。因此设计出一份简单的配置如下：</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;src/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.tsx&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;config&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>说明如下：</p><ul><li>target 是代码最后编译支持的语法版本，<strong>但是</strong> 我们选择使用 babel 来转换，因此设为 <code>esnext</code>;</li><li>module 是何种模块(amd/commonJS/umd/cmd 等)，这里我们使用 <code>esnext</code>，因为这是未来。</li><li>jsx 我们设置为 <code>preserve</code>，因为我们会使用 babel 来转换。有关这个配置属性值得区别，可以参考 <a href="http://www.typescriptlang.org/docs/handbook/jsx.html" target="_blank" rel="noopener noreferrer">TypeScript JSX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li></ul><p>从上面可以看到，实际上 <code>tsc</code> 也可以转换 ES 代码。不过我们还是将这份工作交给更擅长的 babel 来处理。</p><h3 id="babel-转换-ts-tsx"><a href="#babel-转换-ts-tsx" aria-hidden="true" class="header-anchor">#</a> babel 转换 ts/tsx</h3><p>在最终的代码中，<code>ts/tsx</code> 应该转换成 <code>js</code> 代码，这项工作天然归 babel 莫属。但是在 babel 7.0 之前，babel 并不支持转换 <code>ts/tsx</code>。社区的流行方案(webpack方案)通常是使用 <a href="https://github.com/TypeStrong/ts-loader" target="_blank" rel="noopener noreferrer">ts-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 将 <code>ts/tsx</code> 转换成 <code>js</code>，再通过 <a href="https://github.com/babel/babel-loader" target="_blank" rel="noopener noreferrer">babel-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 装换成低语法版本的 <code>js</code>。也就是这样：</p><div class="language-bash extra-class"><pre class="language-bash"><code>TS -<span class="token operator">&gt;</span> ts-loader -<span class="token operator">&gt;</span> JS -<span class="token operator">&gt;</span> babel-loader -<span class="token operator">&gt;</span> JS
</code></pre></div><p><strong>但是</strong>(卧槽，又来了个但是)，这两年 TypeScript 和 Babel 团队的合作成功是 Babel 的支持转换 <code>ts/tsx</code>。可以看看下面的几个链接：</p><ul><li><p><a href="https://iamturns.com/typescript-babel/" target="_blank" rel="noopener noreferrer">TypeScript With Babel: A Beautiful Marriage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li><li><p><a href="https://webpack.js.org/guides/typescript/#importing-other-assets" target="_blank" rel="noopener noreferrer">webpack TypeScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul><p><strong>画外音</strong>：这两年 TypeScript 在工程化方面有两个很大的进步，一是 Babel 对 TS/TSX 的支持；二是 TypeScript 完全拥抱 ESLint。</p><p>值得注意的是：<strong>Babel 的 <a href="https://babeljs.io/docs/en/babel-preset-typescript" target="_blank" rel="noopener noreferrer">@babel/preset-typescript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 只转换 TS/TSX，并不会运行类型检查</strong>。而且，在上面我们已经在 webpack 中集成了 <code>tsc</code> 命令，该命令有转换 TS/TSX 的功能，因此我们只需要安装 <a href="https://babeljs.io/docs/en/babel-preset-react" target="_blank" rel="noopener noreferrer">@babel/preset-react<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或官方提供的 <a href="https://www.npmjs.com/package/babel-preset-react-app" target="_blank" rel="noopener noreferrer">babel-preset-react-app<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><p>如果某些项目不将 <code>tsc</code> 集成到 webpack 中，而是单独的 <code>npm scripts</code> 命令，比如：</p><div class="language-json extra-class"><pre class="language-json"><code>...
<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;check&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tsc&quot;</span>
<span class="token punctuation">}</span>
...
</code></pre></div><p>为了转换 TS/TSX，我们需要 <code>@babel/preset-react</code> 和 <code>@babel/preset-react</code>。</p><p>此处，我们使用官方提供的 <code>babel-preset-react-app</code>，并且使用 package.json 配置方式，即 package.json 中：</p><div class="language-json extra-class"><pre class="language-json"><code>...
<span class="token property">&quot;babel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;react-app&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
...
</code></pre></div><h3 id="lint-集成到-webpack"><a href="#lint-集成到-webpack" aria-hidden="true" class="header-anchor">#</a> Lint 集成到 webpack</h3><p>在代码编写过程中事实运行检查是很有帮助的，社区的方案通常有<a href="/xiaokedada/FirstMeet/First-Meet-TypeScript.html">两种</a>：</p><ol><li>使用 TSLint</li><li>使用 ESLint</li></ol><p>正如上面说的，TypeScript 已经<a href="https://github.com/Microsoft/TypeScript/issues/29288" target="_blank" rel="noopener noreferrer">全面拥抱 ESLint 了<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。因此我们会采用第二种方案，参考文章：</p><ul><li><p><a href="https://eslint.org/blog/2019/01/future-typescript-eslint#the-future-of-typescript-on-eslint" target="_blank" rel="noopener noreferrer">The future of TypeScript on ESLint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li><li><p><a href="https://www.npmjs.com/package/@typescript-eslint/eslint-plugin" target="_blank" rel="noopener noreferrer">@typescript-eslint/eslint-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul><p>先看下 create-react-app 给我们使用了什么 ESLint 规则。查看 <code>webpack.config.js</code> 文件，找到如下配置：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">...</span>
<span class="token comment">// It's important to do this before Babel processes the JS.</span>
<span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.(js|mjs|jsx|ts|tsx)$/</span><span class="token punctuation">,</span>
  enforce<span class="token punctuation">:</span> <span class="token string">'pre'</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        formatter<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'react-dev-utils/eslintFormatter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        eslintPath<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'eslint'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      loader<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'eslint-loader'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  include<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>appSrc<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
</code></pre></div><p>也就是 <a href="https://github.com/facebook/create-react-app/tree/master/packages/eslint-config-react-app" target="_blank" rel="noopener noreferrer">eslint-config-react-app<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的内容，在其实际的配置中，可以看到对 <code>.ts/.tsx</code> 的配置。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">...</span>
  overrides<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    files<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'**/*.ts'</span><span class="token punctuation">,</span> <span class="token string">'**/*.tsx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    parser<span class="token punctuation">:</span> <span class="token string">'@typescript-eslint/parser'</span><span class="token punctuation">,</span>
    parserOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      ecmaVersion<span class="token punctuation">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
      sourceType<span class="token punctuation">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span>
      ecmaFeatures<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        jsx<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token comment">// typescript-eslint specific options</span>
      warnOnUnsupportedTypeScriptVersion<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'@typescript-eslint'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
</code></pre></div><p>也就是说，这个配置文件为我们集成了对 typescript 的 Linter 配置(多此一举)。<strong>但是</strong>，为了支持 IDE 的 Linter，我们选择根据其 README.md 来覆盖这个配置。</p><p>安装如下包：</p><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev @typescript-eslint/eslint-plugin @typescript-eslint/parser
</code></pre></div><p>新建一个 <code>.eslintrc</code> 文件，配置如下：</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react-app&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="lint-集成到-ide"><a href="#lint-集成到-ide" aria-hidden="true" class="header-anchor">#</a> Lint 集成到 IDE</h3><p>对于 Visual Code，可以在 IDE 中集成 ESLint 和 TSLint 来提供智能提示的功能。分别安装 ESLint extension 和 TSLint extension。</p><p>注意，ESLint 默认是不会检查 .ts 文件的，因此需要在 setting.json 文件中添加对 TypeScript 的支持。可以详细阅读其 readme。</p><p>配置如下:</p><div class="language-json extra-class"><pre class="language-json"><code>...
<span class="token property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;typescriptreact&quot;</span>
    <span class="token punctuation">]</span>
...
</code></pre></div><p>TSLint extension 安装即可使用。</p><h3 id="处理-svg-sass-文件"><a href="#处理-svg-sass-文件" aria-hidden="true" class="header-anchor">#</a> 处理 .svg .sass 文件</h3><p>正如 <a href="https://webpack.js.org/guides/typescript/#importing-other-assets" target="_blank" rel="noopener noreferrer">wepback<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中提到的，对于非代码的资源，比如 svg 文件、style 文件等，需要有额外声明，比如</p><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'*.svg'</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content<span class="token punctuation">:</span> <span class="token builtin">any</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> content
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'*.sass'</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">[</span>className<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token operator">=</span> content
<span class="token punctuation">}</span>
</code></pre></div><h2 id="standardjs-规范"><a href="#standardjs-规范" aria-hidden="true" class="header-anchor">#</a> standardJS 规范</h2><p>个人是比较喜欢 <a href="https://standardjs.com/" target="_blank" rel="noopener noreferrer">standardJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，尤其是无分好的写法。因此会在项目中引入 standardJS 规范。步骤如下：</p><ol><li>安装 standardJS</li></ol><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev standard
</code></pre></div><ol start="2"><li>集成 standardJS 到 ESLint</li></ol><p><code>.eslintrc</code> 文件配置如下：</p><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react-app&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;standard&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@typescript-eslint/indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>因为当我们使用 standardJS，采用 indent 为 2 这个格式，因此使用 rules 覆盖 plugin:@typescript-eslint/recommended 的这条规则。</p><ul><li><p>plugin:@typescript-eslint/recommended 的规则可以在这里看到：<a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/src/configs/recommended.json" target="_blank" rel="noopener noreferrer">typescript-eslint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li><li><p>standardJS 的规则在官方这里：<a href="https://standardjs.com/" target="_blank" rel="noopener noreferrer">standardJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li><li><p>react-app 的规则在这里： <a href="https://github.com/facebook/create-react-app/blob/master/packages/eslint-config-react-app/index.js" target="_blank" rel="noopener noreferrer">eslint-react-app<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul><ol start="2"><li>忽略 Linter</li></ol><p>好了，接下来我们要一些我们不太关心文件的的 linter 了。<a href="https://eslint.org/docs/user-guide/command-line-interface#ignoring-files-from-linting" target="_blank" rel="noopener noreferrer">参考这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><p>新建一个 <code>.eslintignore</code> 文件，将想要忽略的文件或文件夹加进去：</p><div class="language-text extra-class"><pre class="language-text"><code>build/*
node_modules/*
config/&quot;

src/serviceWorker.js
</code></pre></div><p><em>如果你发现 IDE 还会报错，暂时忽略吧，因为 IDE ESLint Extension 并没有忽略任何文件的 Linter。</em></p><p>有关上面的几步操作，有参考下面的文章：</p><ul><li><a href="https://gist.github.com/matthewepler/d709a503414d59a0a6c98eb5c9be5fd8" target="_blank" rel="noopener noreferrer">create-react-app linting setup with 'standard' style<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h2 id="recap"><a href="#recap" aria-hidden="true" class="header-anchor">#</a> Recap</h2><p>希望这个过程可以将 <code>tsc</code> / babel / eslint 等的区别区分开。主要辨别一下几点：</p><ol><li><p><code>tsc</code> 命令主要的工作是 <strong>运行类型检查</strong>(同时也有代码转译的功能)。通常是结合 <code>ts-loader</code> 和 <a href>ForkTsCheckerWebpackPlugin</a> 集成到 webpack 中的。</p></li><li><p>babel 提供代码转译(高版本转低版本)。目前也支持 TS/TSX 语法的转译，不过它只是转译，不会执行类型检查。</p></li><li><p>ESLint 是规范代码的 Linter，也就是说代码规范。但是代码本身有问题，不归它管。比如下面就不会告知变量 <code>b</code> 类型编译通不过：</p></li></ol><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">IA</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> b <span class="token punctuation">:</span> <span class="token constant">IA</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token punctuation">:</span> <span class="token number">14</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/maoxiaoke/xiaokedada/edit/master/Blog/Create-A-Website-01.md" target="_blank" rel="noopener noreferrer">在 Github 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">上次更新: </span><span class="time">7/31/2019, 7:35:44 PM</span></div></div><div class="page-nav"><p class="inner"><!----><span class="next"><a href="/xiaokedada/Blog/Create-A-Website-02.html">
          weekly.js 第 1 天
        </a> →
      </span></p></div></div></div></div>
    <script src="/xiaokedada/assets/js/115.22f7ee1d.js" defer></script><script src="/xiaokedada/assets/js/app.51d0a681.js" defer></script>
  </body>
</html>
