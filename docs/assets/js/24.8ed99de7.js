(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{192:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),a("p",[t._v("TODO:")]),t._m(1),t._m(2),a("p",[t._v("即，回答为什么。")]),a("blockquote",[a("p",[t._v('The data type "symbol" is a primitive data type having the quality that, values of this type can be used to make object properties that are anonymous. This data type is used as the key for an object property when the property is intended to be private, for the internal use of a class or an object type. - '),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/Symbol",target:"_blank",rel:"noopener noreferrer"}},[t._v("Symbol MDN"),a("OutboundLink")],1)])]),a("p",[t._v("在 Nicholas C.Zakes 的书中也表达了这样的一个观点。")]),t._m(3),t._m(4),a("p",[t._v("Symbols 改变了这一切。")]),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),a("p",[t._v("在比如，如果我们想对 Symbol 进行强制的类型转换，这亦是不可能的。")]),t._m(19),t._m(20),t._m(21),a("p",[t._v("最开始的这个简单例子完美地解释了上面这句话：")]),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),t._m(37),a("p",[t._v("有这么一些：")]),t._m(38),t._m(39),t._m(40),t._m(41),t._m(42),a("p",[t._v("比如：")]),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),t._m(48)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"万物皆不同-symbols"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#万物皆不同-symbols","aria-hidden":"true"}},[this._v("#")]),this._v(" 万物皆不同 - Symbols")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("[ ] Symbols 是真的针对 "),s("em",[this._v("private object member")]),this._v(" 提出的方案，还有一种说法是第三方库的冲突（增加这部分内容）。")]),s("li",[this._v("[ ] 对于第二种，有什么实际例子可以提供什么例子")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"symbols-是针对什么提出来的方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#symbols-是针对什么提出来的方案","aria-hidden":"true"}},[this._v("#")]),this._v(" Symbols 是针对什么提出来的方案")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Symbols began as a way to create private object members.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 Symbols 之前，对象的属性都可以直接访问到。为了构建私有属性，开发者通常在属性名前加 "),s("code",[this._v("_")]),this._v(" 来约定该属性为对象私有。但是，我们仍然可以访问到该属性或者修改属性值。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" firstName "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" person "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("firstName"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 可写的 firstName symbol 属性")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 或者，使用 Object.defineProperties")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" lastName "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'mao'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nObject"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("defineProperties")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("lastName"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        value"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'mao'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        writable"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'false'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 只读的 lastName symbol 属性")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Symbols 的另一个用处是提供了一些 "),s("code",[this._v("well-known Symbol")]),this._v(" 来实现 JavaScript 的一些协议。比如通过 "),s("code",[this._v("Symbol.iterator")]),this._v(" 实现了 "),s("em",[this._v("iterator protocol")]),this._v("（我们之后学习的很多内容，都有 Symbol 的身影）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"symbol-属性的匿名性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#symbol-属性的匿名性","aria-hidden":"true"}},[this._v("#")]),this._v(" Symbol 属性的匿名性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("正因为 Symbol 属性是匿名的。诸如 "),s("code",[this._v("for...in")]),this._v("、"),s("code",[this._v("Object.keys")]),this._v("、"),s("code",[this._v("Object.getOwnPropertyNames")]),this._v(" 都无法得到 symbol 定义的属性名。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("for...in")]),this._v(" 会遍历对象自身和原型链上的可枚举属性")]),s("li",[s("code",[this._v("Object.keys")]),this._v(" 只遍历对象自身的可枚举属性")]),s("li",[s("code",[this._v("Object.getOwnPropertyNames")]),this._v(" 遍历对象自身的所有属性")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" key "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" person"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("keys")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// []")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getOwnPropertyNames")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// []")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当然，"),s("code",[this._v("JSON.stringify()")]),this._v(" 也对 Symbol 属性一无所知。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("stringify")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "{}"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Instead，ES6 提供了 "),s("code",[this._v("Object.getOwnPropertySymbols()")]),this._v(" 来取得 Symbol 属性。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" symbols "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getOwnPropertySymbols")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("symbols"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "Symbol(xiaoke)"')]),t._v("\nperson"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("symbols"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'yuer'")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("symbols"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 'yuer'")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),s("p",[this._v("很好奇是不是，本来希望通过 Symbol 给对象提供私有属性。但 "),s("code",[this._v("Object.getOwnPropertySymbols()")]),this._v(" 又提供了我们访问 Symbol 属性的能力，不解。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"symbol-的特异性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#symbol-的特异性","aria-hidden":"true"}},[this._v("#")]),this._v(" Symbol 的特异性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在我们的所有 "),s("code",[this._v("Primitive types")]),this._v(" 中，Symbol 的设计有着非常明显的刻意性。比如，得到一个 Symbol实例，"),s("code",[this._v("Symbol('xxx')")]),this._v(" 是正确的，而 "),s("code",[this._v("new Symbol('xxx')")]),this._v(" 则是错误的。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// right")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// Uncaught TypeError: Symbol is not a constructor")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    xiaokedada "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dada'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// Uncaught TypeError: Cannot convert a Symbol value to a string")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),a("p",[t._v("又有了一个好奇点对不对，当我们：")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xiaoke"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "Symbol(xiaoke)"')]),t._v("\n")])])]),a("p",[t._v("这是因为我们有一个内部抽象方法 "),a("code",[t._v("toString()")]),t._v(" 和 "),a("code",[t._v("String()")]),t._v(" 的效果一样。")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("xiaoke"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "Symbol(xiaoke)"')]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("String")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "Symbol(xiaoke)"')]),t._v("\n")])])]),a("p",[t._v("如果是一个 "),a("em",[t._v("简单对象")]),t._v(" 在进行强制类型转换的时候，会强制对 "),a("em",[t._v("简单对象")]),t._v(" 进行 "),a("code",[t._v("toString()")]),t._v("：")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" te "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dada'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "[object Object]dada"')]),t._v("\n")])])]),a("p",[t._v("但是到了 Symbol 这，它偏不。这是不是完全可以说明在设计 Symbol 时的刻意性。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也就是说，对于 Symbol 而言："),s("strong",[this._v("一个 Symbol 的实例赋值给一个 L-value， 然后用来表明它的特异性，无他")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" firstName "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" person "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("firstName"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 可写的 firstName symbol 属性")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("为了构建一个对象的私有属性，我们用 "),a("code",[t._v("Symbol('xiaoke')")]),t._v(" 返回一个实例赋值给 "),a("code",[t._v("firstName")]),t._v("，并作为对象 "),a("code",[t._v("person")]),t._v(" 的一个属性。也就是说，"),a("code",[t._v("Symbol('xiaoke')")]),t._v(" 为对象 "),a("code",[t._v("person")]),t._v(" 构建了一个独一无二的属性。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"symbol-的额外参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#symbol-的额外参数","aria-hidden":"true"}},[this._v("#")]),this._v(" Symbol 的额外参数")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("构造函数 "),s("code",[this._v("Symbol")]),this._v(" 可以接收一个额外的参数，用来描述这个 Symbol 实例。这个额外的参数没有很多设计上的函数，其目的只是便于 Symbol 的调试。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"symbol-的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#symbol-的分类","aria-hidden":"true"}},[this._v("#")]),this._v(" Symbol 的分类")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("根据 Symbol 的不同用处，可以将 Symbol 分为 Local Symbols、Global Symbol Registry 和 "),s("em",[this._v("Well-Known")]),this._v(" Symbols。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"local-symbols"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#local-symbols","aria-hidden":"true"}},[this._v("#")]),this._v(" Local Symbols")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们在上面提到的大部分内容，都属于 Local Symbols。使用 "),s("code",[this._v("Symbol")]),this._v(" 构造函数进行构造。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'xiaoke"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"global-symbol-registry-和-sharing-symbols"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#global-symbol-registry-和-sharing-symbols","aria-hidden":"true"}},[this._v("#")]),this._v(" Global Symbol Registry 和 Sharing Symbols")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这种类型的 Symbols 是通过 "),s("code",[this._v("Symbol.for()")]),this._v(" 来构造的。因为有些开发环境下，symbol 需要在多个 realm 共享，比如 iframe、web worker 都有自己的全局对象。Global Symbol Registry 使得生成的 Symbol 可以在多个 realm 共享。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Symbol.for()")]),this._v(" 首先会查询该 symbol 是否在 Global Symbol Registry 注册，如果存在，会直接使用该 symbol；否则，注册该 symbol。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaokedada "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nxiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" xiaokedada "),a("span",{attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaokedada "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nxiaoke "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" xiaokedada "),a("span",{attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),a("p",[a("code",[t._v("Symbol.keyFor()")]),t._v(" 用来取回 Global Symbol Registry 中注册的 symbol，如果 Global Symbol Registry 没有注册，则返回 "),a("code",[t._v("undefined")]),t._v("。")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'Symbol.keyFor(xiaokedada)'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "xiaoke"')]),t._v("\n")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"well-known-symbols"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#well-known-symbols","aria-hidden":"true"}},[this._v("#")]),this._v(" Well-Known Symbols")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ES6 还实现了一些内置的用于实现某些语言特性，而非提供给开发者使用的 Symbols。通过这些 "),s("em",[this._v("钩子")]),this._v(", 开发者扩展或者自定义一些语法规则。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("Symbol.hasInstance")]),t._v(" - 用于 instanceof 的实现")]),a("li",[a("code",[t._v("Symbol.isConcatSpreadable")])]),a("li",[a("code",[t._v("Symbol.iterator")]),t._v(" 返回一个 iterator")]),a("li",[a("code",[t._v("Symbol.match")]),t._v("、"),a("code",[t._v("Symbol.replace")]),t._v("、"),a("code",[t._v("Symbol.search")]),t._v("、"),a("code",[t._v("Symbol.split")]),t._v(" - 用于 String 的 match/replace/search/split 操作。")]),a("li",[a("code",[t._v("Symbol.species")])]),a("li",[a("code",[t._v("Symbol.toPrimitive")]),t._v(" - 用于对象返回 primitive 值")]),a("li",[a("code",[t._v("Symbol.toStringTag")]),t._v(" - 用于 "),a("code",[t._v("Object.prototype.toSting")]),t._v(" 返回对于对象的描述")]),a("li",[a("code",[t._v("Symbol.unscopables")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("举些例子："),s("code",[this._v("Symbol.hasInstance")]),this._v(" 和 "),s("code",[this._v("Symbol.isConcatSpreadable")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("code",[this._v("Symbol.hasInstance")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ES6 重新定义了 "),s("code",[this._v("instanceof")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("obj "),a("span",{attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Array")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 等价于")]),t._v("\nArray"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasInstance"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("CreateObj")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("CreateObj")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj "),a("span",{attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("CreateObj")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\nObject"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CreateObj"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasInstance"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj "),a("span",{attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("CreateObj")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[s("code",[this._v("Symbol.isConcatSpreadable")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Symbol.isConcatSpreadable 用于判定当使用 "),s("code",[this._v("Array.prototype.concat()")]),this._v(" 方法时，对象是否会被 flattened 成数组元素。默认为 "),s("code",[this._v("true")]),this._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" alpha "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'a'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'b'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'c'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    numeric "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" alphaNumeric "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" alpha"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("concat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("numeric"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// ['a', 'b', 'c', 1, 2, 3]")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 使用 Symbol.isConcatSpreadable")]),t._v("\nnumeric"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isConcatSpreadable"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nalphaNumeric "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" alpha"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("concat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("numeric"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// ['a', 'b', 'c', [1, 2, 3] ]")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("另一个使用场景是我们可以利用 Symbol.isConcatSpreadable 对类数组的对象使用 "),s("code",[this._v("Array.prototype.concat()")]),this._v(" 方法。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" x "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fakeArray "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isConcatSpreadable"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  length"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'world'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nx"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("concat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fakeArray"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// [1, 2, 3, "hello", "world"]')]),t._v("\n\n")])])])}],!1,null,null,null);s.default=e.exports}}]);