<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>XIAOKEDADA | JSON 必知必会</title>
    <meta name="description" content="Write something useful and funny">
    <link rel="icon" href="/favicon.png">
    
    <link rel="preload" href="/assets/css/30.styles.10e620a8.css" as="style"><link rel="preload" href="/assets/js/app.ec8cb532.js" as="script"><link rel="preload" href="/assets/js/19.179f193c.js" as="script"><link rel="prefetch" href="/assets/js/16.9c55aefb.js"><link rel="prefetch" href="/assets/js/1.162133cf.js"><link rel="prefetch" href="/assets/js/2.7f6e95e5.js"><link rel="prefetch" href="/assets/js/3.29ffa0c3.js"><link rel="prefetch" href="/assets/js/4.555fb419.js"><link rel="prefetch" href="/assets/js/5.82b8b310.js"><link rel="prefetch" href="/assets/js/6.9c9601dc.js"><link rel="prefetch" href="/assets/js/7.29a07879.js"><link rel="prefetch" href="/assets/js/8.ba8d6d00.js"><link rel="prefetch" href="/assets/js/9.99bd33ef.js"><link rel="prefetch" href="/assets/js/10.047d1b3e.js"><link rel="prefetch" href="/assets/js/11.7d737150.js"><link rel="prefetch" href="/assets/js/12.844f07ec.js"><link rel="prefetch" href="/assets/js/13.71525fcf.js"><link rel="prefetch" href="/assets/js/14.08d6aa82.js"><link rel="prefetch" href="/assets/js/15.cdaa6d65.js"><link rel="prefetch" href="/assets/js/0.8a6b8cb7.js"><link rel="prefetch" href="/assets/js/17.d3061b7b.js"><link rel="prefetch" href="/assets/js/18.21d355f2.js"><link rel="prefetch" href="/assets/js/20.e61fe5fc.js"><link rel="prefetch" href="/assets/js/21.d97c7737.js"><link rel="prefetch" href="/assets/js/22.71e3e54c.js"><link rel="prefetch" href="/assets/js/23.2925e108.js"><link rel="prefetch" href="/assets/js/24.efc2c6f7.js"><link rel="prefetch" href="/assets/js/25.28d6d514.js"><link rel="prefetch" href="/assets/js/26.8aeaffe5.js"><link rel="prefetch" href="/assets/js/27.5665d8a6.js"><link rel="prefetch" href="/assets/js/28.06883965.js"><link rel="prefetch" href="/assets/js/29.356c6349.js">
    <link rel="stylesheet" href="/assets/css/30.styles.10e620a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      XIAOKEDADA
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/FirstMeet/" class="nav-link router-link-active">FirstMeet系列</a></div><div class="nav-item"><a href="/CSS/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/ReadingNote/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/GatherAll/" class="nav-link">Resource</a></div><a href="https://github.com/maoxiaoke/xiaokedada" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/FirstMeet/" class="nav-link router-link-active">FirstMeet系列</a></div><div class="nav-item"><a href="/CSS/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/ReadingNote/" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/GatherAll/" class="nav-link">Resource</a></div><a href="https://github.com/maoxiaoke/xiaokedada" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Frist-Meet 系列</span><!----></p><ul class="sidebar-group-items"><li><a href="/FirstMeet/First-Meet-JSON.html" class="active sidebar-link">JSON 必知必会</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FirstMeet/First-Meet-JSON.html#标准的-json-语法" class="sidebar-link">标准的 JSON 语法</a></li><li class="sidebar-sub-header"><a href="/FirstMeet/First-Meet-JSON.html#json-schema" class="sidebar-link">JSON Schema</a></li><li class="sidebar-sub-header"><a href="/FirstMeet/First-Meet-JSON.html#json-序列和反序列化" class="sidebar-link">JSON 序列和反序列化</a></li><li class="sidebar-sub-header"><a href="/FirstMeet/First-Meet-JSON.html#json-中的安全问题" class="sidebar-link">JSON 中的安全问题</a></li><li class="sidebar-sub-header"><a href="/FirstMeet/First-Meet-JSON.html#json-的其他应用场景" class="sidebar-link">JSON 的其他应用场景</a></li></ul></li><li><a href="/FirstMeet/First-Meet-Cache.html" class="sidebar-link">Web缓存知多少(缓存机制和数据存储)</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="json-必知必会"><a href="#json-必知必会" aria-hidden="true" class="header-anchor">#</a> JSON 必知必会</h1><blockquote><p>本文部分内容来自 《Introduction to JavaScript Object Notation》，<a href="http://www.json.org/" target="_blank" rel="noopener noreferrer">http://www.json.org/</a>。</p></blockquote><p>JSON (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation)，是一种轻量级的数据交换格式<sup><a href="http://www.json.org/" target="_blank" rel="noopener noreferrer">来源</a></sup>。<strong>源于</strong> JavaScript 的一个子集。但是它<strong>独立于</strong>编程语言。JSON 之父是 <a href="https://en.wikipedia.org/wiki/Douglas_Crockford" target="_blank" rel="noopener noreferrer">Douglas Crockford</a>。</p><h2 id="标准的-json-语法"><a href="#标准的-json-语法" aria-hidden="true" class="header-anchor">#</a> 标准的 JSON 语法</h2><p>JSON 标准语法基于两种结构:</p><ul><li>name/value pairs</li><li>ordered list of values，一般就是数组</li></ul><h3 id="与-javascript-对象的区别"><a href="#与-javascript-对象的区别" aria-hidden="true" class="header-anchor">#</a> 与 JavaScript 对象的区别</h3><p>值得注意的是，虽然 JSON 源于 JavaScript 的子集，但是基于目前的发展，有些 JavaScript 对象不是 JSON，有些 JSON 并不是 JavaScript 对象<sup><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener noreferrer">来源</a></sup>。</p><ul><li>JSON 属性名称使用双引号，而 JavaScript 对象的属性可以不使用、使用单引号或者双引号。</li><li>JavaScript 对象中常包含方法(函数)，JSON 不会涉及对象字面量中的函数。</li></ul><h3 id="json-验证工具"><a href="#json-验证工具" aria-hidden="true" class="header-anchor">#</a> JSON 验证工具</h3><p>下面提供几个 JSON 在线验证的网站：</p><ul><li><a href="https://jsonformatter.curiousconcept.com/" target="_blank" rel="noopener noreferrer">JSON Formatter &amp; Validator</a></li><li><a href="http://jsoneditoronline.org/" target="_blank" rel="noopener noreferrer">JSON Editor Online</a></li></ul><h3 id="json-的媒体类型"><a href="#json-的媒体类型" aria-hidden="true" class="header-anchor">#</a> JSON 的媒体类型</h3><p>JSON 的 MIME 类型是 <code>application/json</code>。</p><h3 id="json-的数据类型"><a href="#json-的数据类型" aria-hidden="true" class="header-anchor">#</a> JSON 的数据类型</h3><h4 id="对象数据类型"><a href="#对象数据类型" aria-hidden="true" class="header-anchor">#</a> 对象数据类型</h4><p>非常简单，就是花括号包裹的 name/value 对。是一种复合数据类型。</p><h4 id="字符串类型"><a href="#字符串类型" aria-hidden="true" class="header-anchor">#</a> 字符串类型</h4><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xiaoke love yuer&quot;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>注意转义</strong>。</p><h4 id="数字类型"><a href="#数字类型" aria-hidden="true" class="header-anchor">#</a> 数字类型</h4><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
    <span class="token property">&quot;earthMass&quot;</span><span class="token operator">:</span> <span class="token number">5.97219e+24</span><span class="token punctuation">,</span>
    <span class="token property">&quot;decimal&quot;</span><span class="token operator">:</span> <span class="token number">2.3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;negativeNumber&quot;</span><span class="token operator">:</span> -<span class="token number">122.23</span>
<span class="token punctuation">}</span>
</code></pre><p>可以是整数、小数、负数或者指数。</p><h4 id="boolean-类型"><a href="#boolean-类型" aria-hidden="true" class="header-anchor">#</a> boolean 类型</h4><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;xiaokeLoveYuer&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="null-类型"><a href="#null-类型" aria-hidden="true" class="header-anchor">#</a> null 类型</h4><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token null">null</span>
<span class="token punctuation">}</span>
</code></pre><p>null 可以用来表达<em>无</em>的意思。需要注意的是，json 中没有 undefined 类型。</p><h4 id="数组类型"><a href="#数组类型" aria-hidden="true" class="header-anchor">#</a> 数组类型</h4><p>数组类型就是值构成的列表和集合。一般来说，数组中的值应具有相同的数据类型(不是必须，而是为了可移植性)。数组类型也是复杂数据类型。</p><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;xiaoke&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;yuer&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>比如这种:</p><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xiaoke love yuer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;xiaokeLoveYuer&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yuer love xiaoke&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;yuerLovexiaoke&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><hr><h2 id="json-schema"><a href="#json-schema" aria-hidden="true" class="header-anchor">#</a> JSON Schema</h2><p>JSON Schema，即 JSON 的一致性验证 (conformity validation)。之前提到的 JSON 验证器是确保 JSON 不存在<strong>语法错误</strong>，而 JSON 的一致性检查意在确保<strong>数据符合要求</strong>。主要有三点验证：</p><ul><li>值的数据类型是否正确</li><li>是否包含所需要的数据</li><li>值的形式是不是需要的</li></ul><p>JSON Schema 还处于草案当中，官网地址是 <a href="http://json-schema.org/" target="_blank" rel="noopener noreferrer">http://json-schema.org/</a>。</p><p>这是一个摘自官网的例子:</p><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;$schema&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://json-schema.org/draft-06/schema#&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A product from Acme's catalog&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The unique identifier for a product&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Name of the product&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;minimum&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;required&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>上面的代码是一个 Production Schema，也是一个 JSON。内容有点长，待我一步一步解释。</p><ul><li><code>$schema</code> 关键字</li></ul><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;$schema&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://json-schema.org/draft-06/schema#&quot;</span>
<span class="token punctuation">}</span>
</code></pre><p>声明其为一个 schema 文件，值为所用 draft 版本的链接，因为还处于草案阶段。</p><ul><li><code>title</code> 关键字</li></ul><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Product&quot;</span>
<span class="token punctuation">}</span>
</code></pre><p>JSON Schema 的标题。这是个描述性的关键字，和 <code>description</code> 一样，用于 JSON Schema 的描述，不施加任何验证性内容。</p><ul><li><code>type</code> 关键字</li></ul><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object&quot;</span>
<span class="token punctuation">}</span>
</code></pre><p>type 关键字用于对 JSON 数据类型的限制。</p><ul><li><code>properties</code> 关键字</li></ul><p><code>properties</code> 关键字就是我们想要的 JSON 的 name/value 对。</p><ul><li><code>required</code> 关键字</li></ul><p><code>required</code> 关键字用来表示必填字段。</p><p>从而，对于上述的第一个问题和第二个问题，我们就可以很好地解决了。对于第三个问题，我们可以通过 <code>minimum</code>、<code>maxLength/minLength</code>、<code>exclusiveMinimum</code> 来解决。</p><p>下面就是一个验证通过的 JSON：</p><pre class="language-json"><code><span class="token punctuation">{</span>
<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xiaokeloveyuer&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
</code></pre><hr><h2 id="json-序列和反序列化"><a href="#json-序列和反序列化" aria-hidden="true" class="header-anchor">#</a> JSON 序列和反序列化</h2><p>JSON 对象拥有两个方法：<code>stringify()</code> 和 <code>parse()</code>。</p><ul><li><code>stringify()</code> 将 JavaScript 序列化为 JSON 字符串。这叫<em>序列化</em>，本意是<strong>将对象转换为文本</strong>的过程。</li><li><code>parse()</code> 将 JSON 字符串解析为原生 JavaScript 对象。这叫<em>反序列化</em>，也叫解析，是<strong>将文本转换为对象</strong>的过程。</li></ul><hr><h2 id="json-中的安全问题"><a href="#json-中的安全问题" aria-hidden="true" class="header-anchor">#</a> JSON 中的安全问题</h2><p>暂略。</p><hr><h2 id="json-的其他应用场景"><a href="#json-的其他应用场景" aria-hidden="true" class="header-anchor">#</a> JSON 的其他应用场景</h2><h3 id="与数据库交互"><a href="#与数据库交互" aria-hidden="true" class="header-anchor">#</a> 与数据库交互</h3><h3 id="服务器端的-json"><a href="#服务器端的-json" aria-hidden="true" class="header-anchor">#</a> 服务器端的 JSON</h3><h3 id="作为配置文件"><a href="#作为配置文件" aria-hidden="true" class="header-anchor">#</a> 作为配置文件</h3><p>作为静态配置文件也让 JSON 大放异彩。比如 npm 的 package.json 文件，VSCode 都采用 JSON 作为静态配置文件。</p></div><div class="content edit-link"><a href="https://github.com/maoxiaoke/xiaokedada/edit/master//FirstMeet/First-Meet-JSON.md" target="_blank" rel="noopener noreferrer">在 Github 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><!----><span class="next"><a href="/FirstMeet/First-Meet-Cache.html">
          Web缓存知多少(缓存机制和数据存储)
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/19.179f193c.js" defer></script><script src="/assets/js/app.ec8cb532.js" defer></script>
  </body>
</html>
