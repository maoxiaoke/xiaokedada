## 一周一词

[Implicit Learning](Brain-Based Learning Secret: Implicit Learning)

## 一周一言

我何以知道自己在想什么呢？-- 只有在看到我自己在做了什么以后才能知道。

> Karl Weick

## 一周三事

1. **新零售接入信用分开发**
2. **核心监控打点接入 GOD 和 Monitor** (问题 1. 埋点缺乏 问题2. 如何利用好 GOD 的其他设施)
3.  **了解 L100 总体**

## 三个规划

1. 跟进选推订单接单前后不一致的问题。
2. 深入了解集团侧 ant design pro 和 dva 的全局 loading 和 route 状态。尤其是 loading 如何使用，以及 ant desing pro 的路由方案。
3. 个人规划

## 一些想法

**1. 当疲于奔命的时候，不妨停下来思考**

这一个有关 **提效** 的话题。这一周主要接触到 dva 和 umi，然后整理了一下[集团的一些轮子](https://yuque.antfin-inc.com/qiangqiang.mqq/sveqlp/amnk0e)。回顾了一下自己在公司的一年多时间，大多的时间都是在疲于业务迭代中，很少停下来思考造成这种情况的原因，没有想过能不能有些什么方法可以提效（纵叔说，加班到那么晚事情也没做完，是不是效率有问题）。从集团的一些轮子中，是否能够得到一些想法，了解别人是怎么做的。

如果只是疲于业务迭代，而自身的价值点又在哪里，优势又在哪？这些都是该思考的。

比如。假如我的目标是技术咨询师。那我应该是看别的技术咨询师是怎么做的。比如提升技术影响力、管理好团队、提供行业解决方案... 等等

**2. 反爬和攻防**

这是个有关 **安全** 的问题。这两周（本周和上周）业务主要是风控部分针对 DD 和 SF 爬单问题进行攻防。很有意思的一点是，最开始由于风控部门没有向业务方完全了解 DD 和 SF 的爬单策略，只对单一接口进行反爬举措，结果对竞方没有造成丝毫地影响，狠狠地被打了一波脸。

对于安全这一块，最近了解知识点。比如：

1. 爬虫策略。devtools 协议，webdriver 等等，具体还不太了解。
2. 反爬策略。集团侧有人机验证的方案，包括滑动验证、刮刮卡、无痕验证、智能验证的一些方案。[人机验证阿里云文档集](https://yuque.antfin-inc.com/wnqkwg/cx83ck)。还有集团侧验签等。

反爬是一个攻防的过程。无法被攻破的系统理论上说是不存在的。那防的目的到达哪一步是 ok 的？是一棍子打死还是有一个攻防过程？

一棍子打死当然是最好的，但有时候往往做不到这么完美的情况下，能够让对方大量流失用户是可以达到打击的目的的 - 即，现行场景下的最优解。

另一点的体会就在于，在公司体量已经很庞大的现在，任何有价值的接口都应该考虑其安全性。

**3. 监控**

在周五那天，我真正体味到前端监控缺失是如何一种抓瞎的过程。大概的过程是这样的，周五凌晨三点有客服反馈商户无法接单，然后被 @文博 call 醒。开始观察曲线。

后端有一套相对完整的监控和打点监控，然而后端的监控打点很多是 pc/native 总共的结果。而 pc 前端没有这么一套完整的监控。导致的问题是：

1. 需要相关人员确定问题是 pc 端还是 native 端，无法观察 pc 端的曲线。
2. 由于没有 pc 端的监控和打点，排查问题还是通过后端的监控和打点。

这导致 pc 端在排查问题的时候，格外被动。

**4. 关于重构**

周五线下反馈了一个问题：*有商户打印小票上的配送金额和接单的时候不一致*。经排查，是因为 选推商户在接单前查询时会进行配送费询价，然后缓存改配送费；确认订单后返回的订单结构体，配送费会再次询价，然后二次询价会导致不一致，导致了这个问题。

而在反爬这个需求中，我改用确认订单的整个结构体，替换了之前仍用查询时的订单结构体 - 算是微小重构。

在这个问题排查完之后，我内心问了一下自己，交易业务是一个业务逻辑很难梳理（因为换了一波一波的人维护）、业务逻辑无人完全了解的情况下，以后还会不会做这些小小的重构。

我的回答是，**会的**。正如我在《重构》一书中阅读的，**保持时刻重构**。但我想我会做得更多一点，在重构前能够多多沟通这个改动。

**5. OneTab 不得让我重新改变习惯了**

[OneTab](https://chrome.google.com/webstore/detail/onetab/chphlpgkkbolifaimnlloiipkdnihall?hl=en) 是一个缓存浏览器标签的 extension。但是周五我遇到一个问题：chrome 崩溃了，我缓存的好多好多标签都丢失了。

Google 了好多方法，也无法恢复。

我的拖延症最终得到了一个极大的损失。得到的教训如下：

1. 没有 sync 的任何服务都不应该使用。
2. 懒惰是很大的恶习，**每天 21: 00 要准时清理浏览器标签页**。