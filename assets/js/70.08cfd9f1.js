(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{221:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"开发遇到的问题集锦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发遇到的问题集锦","aria-hidden":"true"}},[t._v("#")]),t._v(" 开发遇到的问题集锦")]),a("h2",{attrs:{id:"防止用户重复点击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防止用户重复点击","aria-hidden":"true"}},[t._v("#")]),t._v(" 防止用户重复点击")]),a("p",[t._v("问题阐述：有些时候服务器响应比较慢，需要等待一段时间，可能会造成用户重复点击按钮")]),a("p",[t._v("方式一：用户提交表单后把按钮设为 "),a("code",[t._v("disabled")]),t._v("，ajax 成功后，再去掉 "),a("code",[t._v("disabled")]),t._v(" 属性。另外，由于服务器响应比较慢，可以在请求 http 时加一个动态效果。")]),a("p",[t._v("想法：前后端都需要做这样的防重复点击，前端是为了更好的用户体验，后端是为了防止数据错误。")]),a("h2",{attrs:{id:"移动端-h5-无限滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动端-h5-无限滚动","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动端 h5 无限滚动")]),a("h2",{attrs:{id:"移动端-h5-去除-button-等元素的默认样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动端-h5-去除-button-等元素的默认样式","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动端 h5 去除 button 等元素的默认样式")]),a("p",[t._v("在移动端开发的时候，不同设备的渲染不一致，尤其是有一些 "),a("code",[t._v(":active")]),t._v("、"),a("code",[t._v(":focus")]),t._v(" 等浏览器的默认样式，这个时候，需要进行 "),a("code",[t._v("reset")]),t._v("。")]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("button")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("outline")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("border-style")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("&")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token property"}},[t._v("active")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("/*重置代码*/")]),t._v("\n")])])]),a("h2",{attrs:{id:"一长串连续英文字符和数字的换行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一长串连续英文字符和数字的换行","aria-hidden":"true"}},[t._v("#")]),t._v(" 一长串连续英文字符和数字的换行")]),a("p",[t._v("在标签内部，中文的换行是没有问题的。但英文的换行就有问题。当出现一长串连续的英文字符时，换行就失效了，这是因为浏览器会将它识别为一个单词。通常的方式是：")]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("p")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("word-wrap")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" break-word")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("word-break")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" break-all")]),t._v("\n")])])]),a("h2",{attrs:{id:"对后端可能返回的-null-做-default-处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对后端可能返回的-null-做-default-处理","aria-hidden":"true"}},[t._v("#")]),t._v(" 对后端可能返回的 null 做 default 处理")]),a("p",[t._v("后端返回的数据很多情况下会返回 null, 但是在处理过程中经常会用到数组的 "),a("code",[t._v("length")]),t._v(" 属性和方法，所以要使用之前，一定要针对可能返回的 null 做预处理。")]),a("h2",{attrs:{id:"兼容性问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#兼容性问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 兼容性问题")]),a("h2",{attrs:{id:"input-只上传图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#input-只上传图片","aria-hidden":"true"}},[t._v("#")]),t._v(" input 只上传图片")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("accept")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("image/*"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"animation-最后回到元素的本来位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#animation-最后回到元素的本来位置","aria-hidden":"true"}},[t._v("#")]),t._v(" animation 最后回到元素的本来位置")]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token property"}},[t._v("animation-fill-mode")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" both\n")])])]),a("h2",{attrs:{id:"flex-盒的造成的-height-为-0-的原因剖析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flex-盒的造成的-height-为-0-的原因剖析","aria-hidden":"true"}},[t._v("#")]),t._v(" flex 盒的造成的 height 为 0 的原因剖析")]),a("p",[t._v("之前做了一个 action sheet 的需求，发生了一个这样的问题：")]),a("p",[a("img",{attrs:{src:"http://p3puylt4n.bkt.clouddn.com/flex_0.jpg",alt:"flex_height_0"}})]),a("p",[t._v("设置了头部的 "),a("code",[t._v("height")]),t._v(" 值，但计算的结果如下：")]),a("p",[a("img",{attrs:{src:"http://p3puylt4n.bkt.clouddn.com/flex_1.jpg",alt:"flex-1"}})]),a("p",[t._v("代码如下：")]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[t._v("  "),a("span",{attrs:{class:"token selector"}},[t._v(".action-sheet-container")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("display")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("flex-direction")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" column")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100"),a("span",{attrs:{class:"token operator"}},[t._v("%")])]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("box-sizing")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" border-box")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("min-height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 180px")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-color")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #F0F2F0")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("overflow")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden")]),t._v("\n    "),a("span",{attrs:{class:"token selector"}},[t._v(".action-sheet-header")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("display")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("justify-content")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" space-between")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("align-items")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 48px")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("padding")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0px 16px")]),t._v("\n      "),a("span",{attrs:{class:"token selector"}},[t._v(".action-sheet-title")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("        "),a("span",{attrs:{class:"token property"}},[t._v("font-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 18px")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("        "),a("span",{attrs:{class:"token property"}},[t._v("color")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #303133")]),t._v("\n    "),a("span",{attrs:{class:"token selector"}},[t._v(".action-sheet-content")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("flex")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("      "),a("span",{attrs:{class:"token property"}},[t._v("margin")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 13px 16px")]),t._v("\n")])])]),a("p",[t._v("可以看到，我们这是一个弹性盒。外部 container("),a("code",[t._v(".action-sheet-container")]),t._v(") 的 "),a("code",[t._v("flex-direction: column")]),t._v("，然后给内部子盒("),a("code",[t._v(".action-sheet-header")]),t._v(")定义了一个高度 "),a("code",[t._v("height: 48px")]),t._v("，"),a("code",[t._v("flex")]),t._v(" 是默认的 "),a("code",[t._v("0 1 auto")]),t._v("；另一个子盒("),a("code",[t._v(".action-sheet-content")]),t._v(")的 "),a("code",[t._v("flex")]),t._v(" 是 "),a("code",[t._v("1 1 auto")]),t._v("。但是，当第二个子盒的高度太大的时候(在例子中，有 400px, 远大于父盒的 200px)，由于 "),a("code",[t._v("flex-shrink: 1")]),t._v(" 的存在，第一个盒子的高度就会被压缩掉。")]),a("p",[t._v("解决的方式有两种：")]),a("ol",[a("li",[a("code",[t._v(".action-sheet-header")]),t._v(" 设置 "),a("code",[t._v("flex: 0 0 auto")])]),a("li",[t._v("为 "),a("code",[t._v(".action-sheet-content")]),t._v(" 设置 "),a("code",[t._v("overflow: hidden")]),t._v("，根据 "),a("em",[t._v("BFC 是页面上一个隔离的容器，容器内的子元素不会影响到外面的元素，反之也成立")]),t._v(" 的规则，使得第二个盒子不影响第一个盒子")])]),a("h2",{attrs:{id:"移动端-1-像素问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动端-1-像素问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动端 1 像素问题")]),a("p",[t._v("伪类加 "),a("code",[t._v("transform")]),t._v(" 是一种较为好的方法。原理是: 把原来的 "),a("code",[t._v("border")]),t._v(" 去掉，利用 "),a("code",[t._v(":before")]),t._v(" 或 "),a("code",[t._v(":after")]),t._v(" 来重做 "),a("code",[t._v("border")]),t._v("。")]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".box")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("position")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("border")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token property"}},[t._v("none")])]),t._v("\n\n"),a("span",{attrs:{class:"token property-line"}},[a("span",{attrs:{class:"token property"}},[t._v(".box")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token property"}},[t._v("after")])]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("content")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ")]),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("position")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("bottom")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("background")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #000")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100"),a("span",{attrs:{class:"token operator"}},[t._v("%")])]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("-webkit-transform")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" scaleY(0.5)")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("transform")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" scaleY(0.5)")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("-webkit-transform-origin")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("transform-origin")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0")]),t._v("\n")])])]),a("h2",{attrs:{id:"css-文本溢出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-文本溢出","aria-hidden":"true"}},[t._v("#")]),t._v(" css 文本溢出")]),a("p",[t._v("文本溢出的处理主要包含三个属性："),a("code",[t._v("white-space")]),t._v("、"),a("code",[t._v("overflow")]),t._v(" 和 "),a("code",[t._v("text-overflow")]),t._v("。")]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".container")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("overflow")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("white-space")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nowrap")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("  "),a("span",{attrs:{class:"token property"}},[t._v("text-overflow")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ellipsis")]),t._v("\n")])])]),a("h2",{attrs:{id:"处理多行文本溢出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理多行文本溢出","aria-hidden":"true"}},[t._v("#")]),t._v(" 处理多行文本溢出")]),a("p",[t._v("上面的方式，只能进行单行的文本溢出，多行文本溢出并没有效果，方法有：")]),a("ol",[a("li",[t._v("添加 webkit 内核的一个私有属性")])]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[a("span",{attrs:{class:"token property-line"}},[a("span",{attrs:{class:"token property"}},[t._v("overflow")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[a("span",{attrs:{class:"token property"}},[t._v("text-overflow")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ellipsis")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[a("span",{attrs:{class:"token property"}},[t._v("display")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -webkit-box")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[a("span",{attrs:{class:"token property"}},[t._v("-webkit-line-clamp")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[a("span",{attrs:{class:"token property"}},[t._v("-webkit-box-orient")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vertical")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("利用 after 伪元素模拟")])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('p {\n    position:relative;\n    line-height:1.5em;\n    /* 高度为需要显示的行数*行高，比如这里我们显示两行，则为3 */\n    height:3em;\n    overflow:hidden;\n}\np:after {\n    content:"...";\n    position:absolute;\n    bottom:0;\n    right:0;\n    padding: 0 5px;\n    background-color: #fff;\n}\n')])])]),a("h2",{attrs:{id:"vue-的-mouseover-事件如何写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-的-mouseover-事件如何写","aria-hidden":"true"}},[t._v("#")]),t._v(" vue 的 mouseover 事件如何写")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v("\n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("@mouseover")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("someMethods"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"vue-项目中跳转到外部链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-项目中跳转到外部链接","aria-hidden":"true"}},[t._v("#")]),t._v(" vue 项目中跳转到外部链接")]),a("p",[t._v("采用 "),a("em",[t._v("锚")]),t._v(" 这种标签当然是可以完成这一目的的。不过，也可以使用 "),a("code",[t._v("window.location.href")]),t._v(" 来解决。")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("routerToLinks(link)"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("text"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("对应的执行函数：")]),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("routerToLinks")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("link"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" link\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"vue-解决更新数组，增加对象属性而视图不更新的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-解决更新数组，增加对象属性而视图不更新的问题","aria-hidden":"true"}},[t._v("#")]),t._v(" vue 解决更新数组，增加对象属性而视图不更新的问题")]),a("p",[t._v("是这样的一个场景：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("data")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    arr"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    obj"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'xiaoke'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 之后，更新 obj，试图并不会更新，比如")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'update'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obj"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),a("p",[t._v("这是因为 Vue 不能检测以上数组的变动以及对象的添加/删除操作。解决方式如下：")]),a("ol",[a("li",[t._v("使用 "),a("code",[t._v("this.$set")])])]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$"),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'update'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$"),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obj"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'age'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("12")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("使用数组的原生方法")])]),a("p",[t._v("Vue 可以监听到的数组原生方法："),a("code",[t._v("splice()")]),t._v("、"),a("code",[t._v("push()")]),t._v("、"),a("code",[t._v("shift()")]),t._v("、"),a("code",[t._v("pop()")]),t._v("、"),a("code",[t._v("unshift()")]),t._v("、"),a("code",[t._v("sort()")]),t._v("、"),a("code",[t._v("reverse()")]),t._v("。")]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("直接替换数组/对象")])]),a("p",[t._v("开发中遇到个这样的例子 "),a("code",[t._v("state.orderLists")]),t._v(" 是一个列表，对于其中某一项，后端如果有数据，就返回数据添加到 "),a("code",[t._v("state.orderLists")]),t._v(" 的某项中，我是这样写的：")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("globalTypes"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("SET_UGC_DETAIL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" orderId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" previousUGC "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" targetIndex "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("findIndex")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("orderLists"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" order "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" orderId "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" order"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("targetIndex "),a("span",{attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" target "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("orderLists"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("targetIndex"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" assignedTarget "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("assign")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" previousUGC "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Vue"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("orderLists"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" targetIndex"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" assignedTarget"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"vue-访问原生-event-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-访问原生-event-对象","aria-hidden":"true"}},[t._v("#")]),t._v(" vue 访问原生 event 对象")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("say(arg, $event)"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Submit"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"textarea-禁止拉伸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#textarea-禁止拉伸","aria-hidden":"true"}},[t._v("#")]),t._v(" textarea 禁止拉伸")]),a("p",[t._v("增加 "),a("code",[t._v("resize: none")]),t._v(" 属性。")]),a("h2",{attrs:{id:"textarea-监听内容是否变动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#textarea-监听内容是否变动","aria-hidden":"true"}},[t._v("#")]),t._v(" textarea 监听内容是否变动")]),a("p",[t._v("可以采用 "),a("code",[t._v("keyup")]),t._v(" 事件，但是如果是"),a("em",[t._v("复制/粘贴")]),t._v(" 则无法监听。所以采用 "),a("code",[t._v("change")]),t._v(" 事件。需要注意的是，"),a("code",[t._v("change")]),t._v(" 事件是在内容改变且失去焦点时才出发。")]),a("h2",{attrs:{id:"vue-里-v-model-中-click-或-change-事件不同浏览器的触发的时间问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-里-v-model-中-click-或-change-事件不同浏览器的触发的时间问题","aria-hidden":"true"}},[t._v("#")]),t._v(" vue 里 v-model 中 click 或 change 事件不同浏览器的触发的时间问题")]),a("p",[t._v("是这样的一个例子：")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("@click")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("triggerAutoReply(template)"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("em-checkbox")]),t._v(" \n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("v-model")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("chosenReply"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n  "),a("span",{attrs:{class:"token attr-name"}},[t._v(":label")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("template.id"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("em-checkbox")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("解释一下，因为当初用的时候 "),a("code",[t._v("<em-checkbox></em-checkbox>")]),t._v(" 暂不支持 click 和 change 事件。所以这样暂时包裹了一下。")])]),a("p",[t._v("在 "),a("code",[t._v("Chrome")]),t._v(" 中，"),a("code",[t._v("click")]),t._v(" 事件先发生，"),a("code",[t._v("chosenReply")]),t._v(" 后发生。而在 "),a("code",[t._v("Sarifi")]),t._v(" 中，正好相反。")]),a("p",[t._v("最后在 "),a("code",[t._v("triggerAutoReply()")]),t._v(" 函数中添加了一个 "),a("code",[t._v("setTimeout")]),t._v(" 统一了这个问题。")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" context "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),t._v("      \n"),a("span",{attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// some code")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("但是我觉得这个会有更好的解决方案。第一在设计组件的时候，就需要提供 "),a("code",[t._v("change")]),t._v(" 事件的 api，并事先规避这个问题。")]),a("h2",{attrs:{id:"white-space、word-wrap和word-break"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#white-space、word-wrap和word-break","aria-hidden":"true"}},[t._v("#")]),t._v(" white-space、word-wrap和word-break")]),a("p",[a("code",[t._v("white-space")]),t._v(" 用来处理文本中 "),a("em",[t._v("空白")]),t._v("，包括如何处理"),a("strong",[t._v("多个空白符")]),t._v("、"),a("strong",[t._v("换行符")]),t._v(" 和 "),a("strong",[t._v("是否允许过长折行")]),t._v("。常用的属性值：")]),a("ul",[a("li",[t._v("normal：连续的空白符和换行符合并为一个(换行符当做空白符处理)，过长折行")]),a("li",[t._v("nowrap：连续的空白符和换行符合并为一个(换行符当做空白符处理)，过长不折行")])]),a("p",[a("code",[t._v("word-wrap")]),t._v(" 处理文本到达一行的末尾时，是否进行分割。注意： css3 已经改名为 "),a("code",[t._v("overflow-wrap")]),t._v(" 了。")]),a("ul",[a("li",[t._v("normal：不进行分割")]),a("li",[t._v("break-word：达行的末端，进行分割")])]),a("p",[a("code",[t._v("word-break")]),t._v(" 当文本到达一行的末尾时，如何进行分割。")]),a("ul",[a("li",[t._v("normal：不进行分割")]),a("li",[t._v("break-all：到达行的末端，进行分割")])]),a("p",[a("img",{attrs:{src:"http://p3puylt4n.bkt.clouddn.com/word-break.jpg",alt:""}})]),a("p",[t._v("其实看的比较明显，"),a("code",[t._v("overflow-wrap")]),t._v(" 如果有可换行的的分割点，就会按照分割点进行分割。而 "),a("code",[t._v("word-break")]),t._v(" 会尽量挤占空间，直到没有任何空余的空间。")]),a("h2",{attrs:{id:"item-自动折到下一行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#item-自动折到下一行","aria-hidden":"true"}},[t._v("#")]),t._v(" item 自动折到下一行")]),a("p",[a("img",{attrs:{src:"http://p3puylt4n.bkt.clouddn.com/auto_wrap.PNG",alt:""}})]),a("p",[t._v("大概就是这样的一个需求，可能会有多个，为了提高可复用性，希望能采用一种较为合理的方式。")]),a("p",[t._v("常规方式：")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item-container"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!--something else to show--\x3e")]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sass"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token style language-css"}},[t._v("\n  .item-container\n    "),a("span",{attrs:{class:"token property"}},[t._v("text-align")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left\n    "),a("span",{attrs:{class:"token property"}},[t._v("font-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0px\n  .item\n    "),a("span",{attrs:{class:"token property"}},[t._v("display")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inline-block\n    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("calc")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50% - 30px"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("font-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 14px\n    "),a("span",{attrs:{class:"token property"}},[t._v("margin-right")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 60px\n    &"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token function"}},[t._v("nth-child")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("2n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v("margin-right")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0\n")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("另一种就是使用 flex 盒子，"),a("code",[t._v("flex-wrap")]),t._v(" 的值为 "),a("code",[t._v("wrap")]),t._v("。")]),a("div",{staticClass:"language-sass extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[t._v("  "),a("span",{attrs:{class:"token selector"}},[t._v(".item-container")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("display")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("flex-wrap")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wrap")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("justify-content")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" space-between")]),t._v("\n  "),a("span",{attrs:{class:"token selector"}},[t._v(".item")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50"),a("span",{attrs:{class:"token operator"}},[t._v("%")])]),t._v("\n")])])]),a("h2",{attrs:{id:"使用-localstorage-返回的是字符串"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-localstorage-返回的是字符串","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用 localstorage 返回的是字符串")]),a("p",[t._v("所以，对于 "),a("code",[t._v("true")]),t._v(" 和 "),a("code",[t._v("false")]),t._v(" 等值，可以使用 "),a("code",[t._v("JSON.parse()")]),t._v(" 处理一下。")]),a("h2",{attrs:{id:"window-parent-判断是不是子-iframe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window-parent-判断是不是子-iframe","aria-hidden":"true"}},[t._v("#")]),t._v(" window.parent 判断是不是子 iframe")]),a("p",[t._v("如果 window.parent === window，表明该 window 即为顶层 window")]),a("h2",{attrs:{id:"npm-i-报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-i-报错","aria-hidden":"true"}},[t._v("#")]),t._v(" npm i 报错")]),a("p",[t._v("错误信息是：")]),a("blockquote",[a("p",[t._v("Module build failed: Error: Node Sass does not yet support your current environment: OS X 64-bit with Unsupported runtime (64)")])]),a("p",[t._v("原因是 "),a("code",[t._v("Node Sass")]),t._v(" 不支持高版本的 "),a("code",[t._v("Node")]),t._v("，切换到 "),a("code",[t._v("8.12.0")]),t._v(" 的稳定版本")]),a("h2",{attrs:{id:"一个对面向对象编程认识不深刻的写法错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个对面向对象编程认识不深刻的写法错误","aria-hidden":"true"}},[t._v("#")]),t._v(" 一个对面向对象编程认识不深刻的写法错误")]),a("p",[t._v("新系统上线，线上报大量异常。最后定位到一个写法问题：")]),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// base.ts")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" axios "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'axios'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" env "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/common/config'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" urlSplice "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/common/utils/assist'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" IQueryParams "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/common/service/types'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("private")]),t._v(" ksid"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localStorage"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getItem")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ksid'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n  \n  "),a("span",{attrs:{class:"token keyword"}},[t._v("private")]),t._v(" shopId"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localStorage"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getItem")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'shopId'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n  \n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" queryParams"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IQueryParams"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" base"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("concat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("urlSplice")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("queryParams"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ksid"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ksid"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      shopId"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shopId\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" axios\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("baseUrl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("concat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("post")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IQueryParams"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" axios\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("post")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("baseUrl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("concat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("base"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ksid"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ksid"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shopId"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shopId "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("然后有一个类继承了这个类。")]),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// campaign-service.ts")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Base "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/common/service/base'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("CampaignService")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Base")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("queryApplyingCampaigns")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'/napos-applying-campaigns'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("问题在于在编译时，此时还未获取到 ksid 和 shopId， 因此值都为空字符串。")]),a("p",[t._v("改成：")]),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("ksid")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localStorage"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getItem")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ksid'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("shopId")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localStorage"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getItem")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'shopId'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("现在我想的问题是，ksid 和 shopId 应该包装进基类吗？如何设计一个类？依赖注入适合在这个地方吗？")])])}],!1,null,null,null);s.default=e.exports}}]);