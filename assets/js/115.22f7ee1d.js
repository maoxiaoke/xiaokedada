(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{266:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),a("p",[t._v("心血来潮想搭建一个网站，暂时定位于提供 JS 相关的一个咨询网站。技术栈如下：")]),t._m(1),a("p",[t._v("今天的主要任务是使用 "),a("a",{attrs:{href:"https://github.com/facebook/create-react-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("create-react-app"),a("OutboundLink")],1),t._v(" 建 React 项目。")]),t._m(2),a("p",[a("a",{attrs:{href:"https://facebook.github.io/create-react-app/docs/adding-typescript",target:"_blank",rel:"noopener noreferrer"}},[t._v("Adding TypeScript"),a("OutboundLink")],1),t._v(" 这篇文章介绍了官方 "),a("a",{attrs:{href:""}},[t._v("react-scripts")]),t._v(" 对 Typescript 的支持。")]),a("p",[t._v("运行")]),t._m(3),a("p",[t._v("为了以防未来需要对项目进行额外的配置，所以我们 "),a("a",{attrs:{href:"https://facebook.github.io/create-react-app/docs/alternatives-to-ejecting",target:"_blank",rel:"noopener noreferrer"}},[t._v("eject"),a("OutboundLink")],1),t._v(" 这个项目，运行：")]),t._m(4),a("p",[t._v("接下来安装 Typescript。")]),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),a("p",[t._v("可以在 "),a("a",{attrs:{href:"http://www.typescriptlang.org/docs/handbook/compiler-options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Compiler Options"),a("OutboundLink")],1),t._v(" 了解各个配置项的作用。")]),t._m(16),a("p",[t._v("接下来我们需要使用 "),a("code",[t._v("tsc")]),t._v(" 来运行 "),a("code",[t._v(".ts")]),t._v(" 和 "),a("code",[t._v(".tsx")]),t._v(" 文件的 "),a("em",[t._v("类型检查")]),t._v("。这当然会集成到 webpack 当中。"),a("code",[t._v("create-react-app")]),t._v(" 使用 plugin "),a("a",{attrs:{href:"https://www.npmjs.com/package/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("fork-ts-checker-webpack-plugin"),a("OutboundLink")],1),t._v(" 来支持，代码如下：")]),t._m(17),t._m(18),t._m(19),a("p",[t._v("说明如下：")]),a("ul",[t._m(20),t._m(21),a("li",[t._v("jsx 我们设置为 "),a("code",[t._v("preserve")]),t._v("，因为我们会使用 babel 来转换。有关这个配置属性值得区别，可以参考 "),a("a",{attrs:{href:"http://www.typescriptlang.org/docs/handbook/jsx.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeScript JSX"),a("OutboundLink")],1),t._v("。")])]),t._m(22),t._m(23),a("p",[t._v("在最终的代码中，"),a("code",[t._v("ts/tsx")]),t._v(" 应该转换成 "),a("code",[t._v("js")]),t._v(" 代码，这项工作天然归 babel 莫属。但是在 babel 7.0 之前，babel 并不支持转换 "),a("code",[t._v("ts/tsx")]),t._v("。社区的流行方案(webpack方案)通常是使用 "),a("a",{attrs:{href:"https://github.com/TypeStrong/ts-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-loader"),a("OutboundLink")],1),t._v(" 将 "),a("code",[t._v("ts/tsx")]),t._v(" 转换成 "),a("code",[t._v("js")]),t._v("，再通过 "),a("a",{attrs:{href:"https://github.com/babel/babel-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-loader"),a("OutboundLink")],1),t._v(" 装换成低语法版本的 "),a("code",[t._v("js")]),t._v("。也就是这样：")]),t._m(24),t._m(25),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://iamturns.com/typescript-babel/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeScript With Babel: A Beautiful Marriage"),a("OutboundLink")],1)])]),a("li",[a("p",[a("a",{attrs:{href:"https://webpack.js.org/guides/typescript/#importing-other-assets",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack TypeScript"),a("OutboundLink")],1)])])]),t._m(26),a("p",[t._v("值得注意的是："),a("strong",[t._v("Babel 的 "),a("a",{attrs:{href:"https://babeljs.io/docs/en/babel-preset-typescript",target:"_blank",rel:"noopener noreferrer"}},[t._v("@babel/preset-typescript"),a("OutboundLink")],1),t._v(" 只转换 TS/TSX，并不会运行类型检查")]),t._v("。而且，在上面我们已经在 webpack 中集成了 "),a("code",[t._v("tsc")]),t._v(" 命令，该命令有转换 TS/TSX 的功能，因此我们只需要安装 "),a("a",{attrs:{href:"https://babeljs.io/docs/en/babel-preset-react",target:"_blank",rel:"noopener noreferrer"}},[t._v("@babel/preset-react"),a("OutboundLink")],1),t._v(" 或官方提供的 "),a("a",{attrs:{href:"https://www.npmjs.com/package/babel-preset-react-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-preset-react-app"),a("OutboundLink")],1),t._v("。")]),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),a("p",[t._v("在代码编写过程中事实运行检查是很有帮助的，社区的方案通常有"),a("router-link",{attrs:{to:"./../FirstMeet/First-Meet-TypeScript.html"}},[t._v("两种")]),t._v("：")],1),t._m(33),a("p",[t._v("正如上面说的，TypeScript 已经"),a("a",{attrs:{href:"https://github.com/Microsoft/TypeScript/issues/29288",target:"_blank",rel:"noopener noreferrer"}},[t._v("全面拥抱 ESLint 了"),a("OutboundLink")],1),t._v("。因此我们会采用第二种方案，参考文章：")]),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://eslint.org/blog/2019/01/future-typescript-eslint#the-future-of-typescript-on-eslint",target:"_blank",rel:"noopener noreferrer"}},[t._v("The future of TypeScript on ESLint"),a("OutboundLink")],1)])]),a("li",[a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/@typescript-eslint/eslint-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@typescript-eslint/eslint-plugin"),a("OutboundLink")],1)])])]),t._m(34),t._m(35),a("p",[t._v("也就是 "),a("a",{attrs:{href:"https://github.com/facebook/create-react-app/tree/master/packages/eslint-config-react-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-config-react-app"),a("OutboundLink")],1),t._v(" 的内容，在其实际的配置中，可以看到对 "),a("code",[t._v(".ts/.tsx")]),t._v(" 的配置。")]),t._m(36),t._m(37),a("p",[t._v("安装如下包：")]),t._m(38),t._m(39),t._m(40),t._m(41),a("p",[t._v("对于 Visual Code，可以在 IDE 中集成 ESLint 和 TSLint 来提供智能提示的功能。分别安装 ESLint extension 和 TSLint extension。")]),a("p",[t._v("注意，ESLint 默认是不会检查 .ts 文件的，因此需要在 setting.json 文件中添加对 TypeScript 的支持。可以详细阅读其 readme。")]),a("p",[t._v("配置如下:")]),t._m(42),a("p",[t._v("TSLint extension 安装即可使用。")]),t._m(43),a("p",[t._v("正如 "),a("a",{attrs:{href:"https://webpack.js.org/guides/typescript/#importing-other-assets",target:"_blank",rel:"noopener noreferrer"}},[t._v("wepback"),a("OutboundLink")],1),t._v(" 中提到的，对于非代码的资源，比如 svg 文件、style 文件等，需要有额外声明，比如")]),t._m(44),t._m(45),a("p",[t._v("个人是比较喜欢 "),a("a",{attrs:{href:"https://standardjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("standardJS"),a("OutboundLink")],1),t._v("，尤其是无分好的写法。因此会在项目中引入 standardJS 规范。步骤如下：")]),t._m(46),t._m(47),t._m(48),t._m(49),t._m(50),a("p",[t._v("因为当我们使用 standardJS，采用 indent 为 2 这个格式，因此使用 rules 覆盖 plugin:@typescript-eslint/recommended 的这条规则。")]),a("ul",[a("li",[a("p",[t._v("plugin:@typescript-eslint/recommended 的规则可以在这里看到："),a("a",{attrs:{href:"https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/src/configs/recommended.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("typescript-eslint"),a("OutboundLink")],1)])]),a("li",[a("p",[t._v("standardJS 的规则在官方这里："),a("a",{attrs:{href:"https://standardjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("standardJS"),a("OutboundLink")],1)])]),a("li",[a("p",[t._v("react-app 的规则在这里： "),a("a",{attrs:{href:"https://github.com/facebook/create-react-app/blob/master/packages/eslint-config-react-app/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-react-app"),a("OutboundLink")],1)])])]),t._m(51),a("p",[t._v("好了，接下来我们要一些我们不太关心文件的的 linter 了。"),a("a",{attrs:{href:"https://eslint.org/docs/user-guide/command-line-interface#ignoring-files-from-linting",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考这里"),a("OutboundLink")],1),t._v("。")]),t._m(52),t._m(53),t._m(54),a("p",[t._v("有关上面的几步操作，有参考下面的文章：")]),a("ul",[a("li",[a("a",{attrs:{href:"https://gist.github.com/matthewepler/d709a503414d59a0a6c98eb5c9be5fd8",target:"_blank",rel:"noopener noreferrer"}},[t._v("create-react-app linting setup with 'standard' style"),a("OutboundLink")],1)])]),t._m(55),t._m(56),t._m(57),t._m(58)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"weekly-js-第-0-天"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#weekly-js-第-0-天","aria-hidden":"true"}},[this._v("#")]),this._v(" weekly.js 第 0 天")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("FE: React + React-Router + Rxjs + TypeScript。函数库使用 Ramda，时间库使用 DateFns，打包工具 Webpack，代码规范 Standard。")]),s("li",[this._v("BE: Node")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"react-typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-typescript","aria-hidden":"true"}},[this._v("#")]),this._v(" React + Typescript")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ npx create-react-app weekly-fe --typescript\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" run "),s("span",{attrs:{class:"token function"}},[this._v("eject")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" --save typescript @types/node @types/react @types/react-dom @types/jest\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("接下来将 "),s("code",[this._v("src")]),this._v(" 文件中的 "),s("code",[this._v("App.js")]),this._v(" 改成 "),s("code",[this._v("App.tsx")]),this._v("。运行程序，页面报错如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://github.com/maoxiaoke/xiaokedada/blob/master/assets/tsconfig.jpg?raw=true",alt:"tsconfig-error"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("意思就是说，在 "),a("code",[t._v("App.tsx")]),t._v(" 无法识别没带 "),a("code",[t._v("tsx")]),t._v(" 结尾文件，这自然是 Webpack "),a("code",[t._v("extensions")]),t._v(" 这个配置项的功劳。转到 "),a("code",[t._v("config/webpack.config.js")]),t._v(" 文件，找到 extensions 这个配置：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\nextensions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" paths"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("moduleFileExtensions\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("map")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ext "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`.")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("ext"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("filter")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ext "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" useTypeScript "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("!")]),t._v("ext"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("includes")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ts'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("看了下代码，好像是被 "),s("code",[this._v("useTypeScript")]),this._v(" 限制了。再看下 "),s("code",[this._v("useTypeScript")]),this._v(" 这个变量的定义：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Check if TypeScript is setup")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useTypeScript "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("existsSync")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("paths"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appTsConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\nappTsConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("resolveApp")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'tsconfig.json'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这下明白了。原来是这个项目下没有生成 "),s("code",[this._v("tsconfig.json")]),this._v(" 文件。为了生成 "),s("code",[this._v("tsconfig.json")]),this._v(" 文件，全局安装 typescript，使用 "),s("code",[this._v("tsc --init")]),this._v(" 这个命令：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" typescript -g\n\n"),s("span",{attrs:{class:"token comment"}},[this._v("# 然后在项目根目录运行")]),this._v("\n$ tsc --init\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("则会在项目根目录生成一个 "),s("code",[this._v("tsconfig.json")]),this._v(" 文件，内容如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"compilerOptions"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    /* Basic Options */\n    "),a("span",{attrs:{class:"token property"}},[t._v('"target"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"es5"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                          /* Specify ECMAScript target version"),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'ES3' (default"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'ES5'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'ES2015'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'ES2016'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'ES2017'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'ES2018'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'ES2019' or 'ESNEXT'. */\n    "),a("span",{attrs:{class:"token property"}},[t._v('"module"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"commonjs"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                     /* Specify module code generation"),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'none'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'commonjs'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'amd'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'system'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'umd'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'es2015'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" or 'ESNext'. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"lib"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             /* Specify library files to be included in the compilation. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"allowJs"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       /* Allow javascript files to be compiled. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"checkJs"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       /* Report errors in .js files. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"jsx"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"preserve"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                     /* Specify JSX code generation"),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'preserve'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'react-native'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" or 'react'. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"declaration"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   /* Generates corresponding '.d.ts' file. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"declarationMap"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                /* Generates a sourcemap for each corresponding '.d.ts' file. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"sourceMap"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                     /* Generates corresponding '.map' file. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"outFile"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       /* Concatenate and emit output to single file. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"outDir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        /* Redirect output structure to the directory. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"rootDir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"composite"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                     /* Enable project compilation */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"incremental"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   /* Enable incremental compilation */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"tsBuildInfoFile"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               /* Specify file to store incremental compilation information */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"removeComments"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                /* Do not emit comments to output. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noEmit"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        /* Do not emit outputs. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"importHelpers"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 /* Import emit helpers from 'tslib'. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"downlevelIteration"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("            /* Provide full support for iterables in 'for-of'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" spread"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" and destructuring when targeting 'ES5' or 'ES3'. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"isolatedModules"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               /* Transpile each file as a separate module (similar to 'ts.transpileModule'"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(". */\n\n    /* Strict Type-Checking Options */\n    "),a("span",{attrs:{class:"token property"}},[t._v('"strict"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           /* Enable all strict type-checking options. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noImplicitAny"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 /* Raise error on expressions and declarations with an implied 'any' type. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"strictNullChecks"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("              /* Enable strict "),a("span",{attrs:{class:"token null"}},[t._v("null")]),t._v(" checks. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"strictFunctionTypes"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           /* Enable strict checking of function types. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"strictBindCallApply"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           /* Enable strict 'bind'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'call'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" and 'apply' methods on functions. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"strictPropertyInitialization"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  /* Enable strict checking of property initialization in classes. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noImplicitThis"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                /* Raise error on 'this' expressions with an implied 'any' type. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"alwaysStrict"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  /* Parse in strict mode and emit "),a("span",{attrs:{class:"token string"}},[t._v('"use strict"')]),t._v(" for each source file. */\n\n    /* Additional Checks */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noUnusedLocals"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                /* Report errors on unused locals. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noUnusedParameters"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("            /* Report errors on unused parameters. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noImplicitReturns"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("             /* Report error when not all code paths in function return a value. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"noFallthroughCasesInSwitch"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    /* Report errors for fallthrough cases in switch statement. */\n\n    /* Module Resolution Options */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"moduleResolution"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"node"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("            /* Specify module resolution strategy"),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'node' (Node.js"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" or 'classic' (TypeScript pre-"),a("span",{attrs:{class:"token number"}},[t._v("1.6")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(". */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"baseUrl"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       /* Base directory to resolve non-absolute module names. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"paths"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"rootDirs"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        /* List of root folders whose combined content represents the structure of the project at runtime. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"typeRoots"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       /* List of folders to include type definitions from. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"types"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           /* Type declaration files to be included in compilation. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"allowSyntheticDefaultImports"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  /* Allow default imports from modules with no default export. This does not affect code emit"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" just typechecking. */\n    "),a("span",{attrs:{class:"token property"}},[t._v('"esModuleInterop"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"preserveSymlinks"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("              /* Do not resolve the real path of symlinks. */\n\n    /* Source Map Options */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"sourceRoot"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('""')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"mapRoot"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('""')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                         /* Specify the location where debugger should locate map files instead of generated locations. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"inlineSourceMap"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               /* Emit a single file with source maps instead of having a separate file. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"inlineSources"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 /* Emit the source alongside the sourcemaps within a single file"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" requires '--inlineSourceMap' or '--sourceMap' to be set. */\n\n    /* Experimental Options */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"experimentalDecorators"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        /* Enables experimental support for ES7 decorators. */\n    // "),a("span",{attrs:{class:"token property"}},[t._v('"emitDecoratorMetadata"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         /* Enables experimental support for emitting type metadata for decorators. */\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"tsc-类型检查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tsc-类型检查","aria-hidden":"true"}},[this._v("#")]),this._v(" tsc 类型检查")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// TypeScript type checking")]),t._v("\nuseTypeScript "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ForkTsCheckerWebpackPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    typescript"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("sync")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'typescript'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      basedir"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" paths"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appNodeModules"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    tsconfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" paths"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appTsConfig"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("最终它会使用根目录下的 "),s("code",[this._v("tsconfig.json")]),this._v(" 文件的配置选项来运行类型检查。因此设计出一份简单的配置如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"compilerOptions"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"target"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"esnext"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"module"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"esnext"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"strict"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"jsx"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"preserve"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"importHelpers"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"moduleResolution"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"node"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"experimentalDecorators"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"esModuleInterop"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"allowSyntheticDefaultImports"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"include"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"src/**/*.ts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"src/**/*.tsx"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"exclude"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"node_modules"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"config"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("target 是代码最后编译支持的语法版本，"),s("strong",[this._v("但是")]),this._v(" 我们选择使用 babel 来转换，因此设为 "),s("code",[this._v("esnext")]),this._v(";")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("module 是何种模块(amd/commonJS/umd/cmd 等)，这里我们使用 "),s("code",[this._v("esnext")]),this._v("，因为这是未来。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("从上面可以看到，实际上 "),s("code",[this._v("tsc")]),this._v(" 也可以转换 ES 代码。不过我们还是将这份工作交给更擅长的 babel 来处理。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"babel-转换-ts-tsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-转换-ts-tsx","aria-hidden":"true"}},[this._v("#")]),this._v(" babel 转换 ts/tsx")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("TS -"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" ts-loader -"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" JS -"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" babel-loader -"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" JS\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("但是")]),this._v("(卧槽，又来了个但是)，这两年 TypeScript 和 Babel 团队的合作成功是 Babel 的支持转换 "),s("code",[this._v("ts/tsx")]),this._v("。可以看看下面的几个链接：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("画外音")]),this._v("：这两年 TypeScript 在工程化方面有两个很大的进步，一是 Babel 对 TS/TSX 的支持；二是 TypeScript 完全拥抱 ESLint。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果某些项目不将 "),s("code",[this._v("tsc")]),this._v(" 集成到 webpack 中，而是单独的 "),s("code",[this._v("npm scripts")]),this._v(" 命令，比如：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("...\n"),a("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"check"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"tsc"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("为了转换 TS/TSX，我们需要 "),s("code",[this._v("@babel/preset-react")]),this._v(" 和 "),s("code",[this._v("@babel/preset-react")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("此处，我们使用官方提供的 "),s("code",[this._v("babel-preset-react-app")]),this._v("，并且使用 package.json 配置方式，即 package.json 中：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("...\n"),a("span",{attrs:{class:"token property"}},[t._v('"babel"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"react-app"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"lint-集成到-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lint-集成到-webpack","aria-hidden":"true"}},[this._v("#")]),this._v(" Lint 集成到 webpack")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("使用 TSLint")]),s("li",[this._v("使用 ESLint")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("先看下 create-react-app 给我们使用了什么 ESLint 规则。查看 "),s("code",[this._v("webpack.config.js")]),this._v(" 文件，找到如下配置：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// It's important to do this before Babel processes the JS.")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  test"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token regex"}},[t._v("/\\.(js|mjs|jsx|ts|tsx)$/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  enforce"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pre'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  use"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      options"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        formatter"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" require"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'react-dev-utils/eslintFormatter'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        eslintPath"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" require"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'eslint'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      loader"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" require"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'eslint-loader'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  include"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" paths"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appSrc"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  overrides"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    files"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'**/*.ts'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'**/*.tsx'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    parser"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@typescript-eslint/parser'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    parserOptions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      ecmaVersion"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2018")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      sourceType"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'module'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      ecmaFeatures"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        jsx"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// typescript-eslint specific options")]),t._v("\n      warnOnUnsupportedTypeScriptVersion"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'@typescript-eslint'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也就是说，这个配置文件为我们集成了对 typescript 的 Linter 配置(多此一举)。"),s("strong",[this._v("但是")]),this._v("，为了支持 IDE 的 Linter，我们选择根据其 README.md 来覆盖这个配置。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev @typescript-eslint/eslint-plugin @typescript-eslint/parser\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("新建一个 "),s("code",[this._v(".eslintrc")]),this._v(" 文件，配置如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"extends"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"react-app"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"plugin:@typescript-eslint/recommended"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"parser"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"@typescript-eslint/parser"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"@typescript-eslint"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"lint-集成到-ide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lint-集成到-ide","aria-hidden":"true"}},[this._v("#")]),this._v(" Lint 集成到 IDE")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("...\n"),a("span",{attrs:{class:"token property"}},[t._v('"eslint.validate"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"javascript"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"javascriptreact"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"typescript"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"typescriptreact"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"处理-svg-sass-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#处理-svg-sass-文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 处理 .svg .sass 文件")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'*.svg'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" content"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("any")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" content\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'*.sass'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" content"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("className"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" content\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"standardjs-规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#standardjs-规范","aria-hidden":"true"}},[this._v("#")]),this._v(" standardJS 规范")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("安装 standardJS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev standard\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("集成 standardJS 到 ESLint")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v(".eslintrc")]),this._v(" 文件配置如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"extends"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"react-app"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"standard"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"plugin:@typescript-eslint/recommended"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"parser"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"@typescript-eslint/parser"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"@typescript-eslint"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"rules"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"@typescript-eslint/indent"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"error"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("忽略 Linter")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("新建一个 "),s("code",[this._v(".eslintignore")]),this._v(" 文件，将想要忽略的文件或文件夹加进去：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('build/*\nnode_modules/*\nconfig/"\n\nsrc/serviceWorker.js\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("如果你发现 IDE 还会报错，暂时忽略吧，因为 IDE ESLint Extension 并没有忽略任何文件的 Linter。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"recap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#recap","aria-hidden":"true"}},[this._v("#")]),this._v(" Recap")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("希望这个过程可以将 "),s("code",[this._v("tsc")]),this._v(" / babel / eslint 等的区别区分开。主要辨别一下几点：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("p",[a("code",[t._v("tsc")]),t._v(" 命令主要的工作是 "),a("strong",[t._v("运行类型检查")]),t._v("(同时也有代码转译的功能)。通常是结合 "),a("code",[t._v("ts-loader")]),t._v(" 和 "),a("a",{attrs:{href:""}},[t._v("ForkTsCheckerWebpackPlugin")]),t._v(" 集成到 webpack 中的。")])]),a("li",[a("p",[t._v("babel 提供代码转译(高版本转低版本)。目前也支持 TS/TSX 语法的转译，不过它只是转译，不会执行类型检查。")])]),a("li",[a("p",[t._v("ESLint 是规范代码的 Linter，也就是说代码规范。但是代码本身有问题，不归它管。比如下面就不会告知变量 "),a("code",[t._v("b")]),t._v(" 类型编译通不过：")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("IA")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" b "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("IA")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  age"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("14")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);s.default=e.exports}}]);