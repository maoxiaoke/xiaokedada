(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{233:function(t,e,r){"use strict";r.r(e);var s=r(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._m(1),r("p",[t._v("从产品的角度来设计一个构建工具，应该具有一下要求：")]),t._m(2),t._m(3),r("p",[r("a",{attrs:{href:"https://webpack.js.org/glossary",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terminology from Webpack"),r("OutboundLink")],1),t._v(" or "),r("a",{attrs:{href:"https://survivejs.com/webpack/appendices/glossary/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Glossary from Webpack Book"),r("OutboundLink")],1),t._v("。")]),t._m(4),r("p",[t._v("Webpack 扩充了 module 在 JavaScript/NodeJS 中含义：在 Webpack 的世界中，任何资源比如一张图片、字体资源、css 文件都是 module，而这些资源都有一个功能的特点：入口资源。")]),t._m(5),r("p",[t._v("都可以看做是 module 的标志。")]),t._m(6),r("p",[t._v("Chunk 更难理解一点，理解为 代码 chunk (一大块代码)。这个 chunk 会是对多个 module 及其依赖的一个管理者，管理 module 及其依赖的打包过程。")]),t._m(7),r("p",[t._v("Bundle 是由一个或多个 chunks 组成的最终结果的输出文件，供浏览器加载。而且可以有多个 bundle。")]),t._m(8),r("p",[t._v("**为什么：**webpack 提供多种 mode，倘若在 production 模式，会自动开启代码压缩。")]),t._m(9),r("p",[t._v("倘若我们需要在开发环境，有时候就需要关闭代码压缩，开启 source map，这时候我们将 mode 设置为 development。")]),t._m(10),t._m(11),r("p",[t._v("**为什么：**为提高性能，通常会压缩 JavaScript 文件和 CSS 文件，这样就会产生调试困难的问题。source map 能提供源代码位置到压缩代码的映射。"),r("a",{attrs:{href:"https://blog.teamtreehouse.com/introduction-source-maps",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),r("OutboundLink")],1)]),r("p",[t._v("**方案：**Webpack 中提供 Devtool 和 SourceMapDevToolPlugin 来支持。")]),r("p",[t._v("配置如下：")]),t._m(12),t._m(13),t._m(14),r("p",[t._v("如果设置为：")]),t._m(15),r("p",[t._v("则添加 source map 的 dataUrl 到编译文件的末尾。")]),t._m(16),r("p",[t._v("还有很多其他很多配置，编译后的代码也分为 bundled code、generated code、transformed code、\toriginal source 等多种。"),r("a",{attrs:{href:"https://webpack.js.org/configuration/devtool/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),r("OutboundLink")],1)]),t._m(17),t._m(18)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"新学-webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新学-webpack","aria-hidden":"true"}},[this._v("#")]),this._v(" 新学 Webpack")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"构建工具的需求点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建工具的需求点","aria-hidden":"true"}},[this._v("#")]),this._v(" 构建工具的需求点")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("依赖管理，识别依赖和管理依赖关系")]),e("li",[this._v("资源加载管理")]),e("li",[this._v("效率和优化")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"名词解释"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#名词解释","aria-hidden":"true"}},[this._v("#")]),this._v(" 名词解释")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Module")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("ES6 import")]),e("li",[this._v("CommonJS require")]),e("li",[this._v("css/sass 的 import")]),e("li",[this._v("样式文件中的 url('.../')")]),e("li",[this._v("等")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Chunk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Bundle")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"开启代码压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启代码压缩","aria-hidden":"true"}},[this._v("#")]),this._v(" 开启代码压缩")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"关闭代码压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭代码压缩","aria-hidden":"true"}},[this._v("#")]),this._v(" 关闭代码压缩")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"source-map-支持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#source-map-支持","aria-hidden":"true"}},[this._v("#")]),this._v(" source map 支持")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("建议在 development 中开启")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{attrs:{class:"token comment"}},[t._v("//webpack.config.js")]),t._v("\n"),r("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\ndevtool"),r("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{attrs:{class:"token string"}},[t._v("'source-map'")]),t._v("\n"),r("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("最后编译的文件会出一个 "),e("code",[this._v(".map")]),this._v(" 文件。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/maoxiaoke/xiaokedada/blob/master/assets/source-map01.jpg?raw=true",alt:""}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{attrs:{class:"token comment"}},[t._v("//webpack.config.js")]),t._v("\n"),r("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\ndevtool"),r("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{attrs:{class:"token string"}},[t._v("'inline-source-map'")]),t._v("\n"),r("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://github.com/maoxiaoke/xiaokedada/blob/master/assets/source-map02.jpg?raw=true",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"dev-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dev-server","aria-hidden":"true"}},[this._v("#")]),this._v(" Dev Server")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"热替换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#热替换","aria-hidden":"true"}},[this._v("#")]),this._v(" 热替换")])}],!1,null,null,null);e.default=a.exports}}]);